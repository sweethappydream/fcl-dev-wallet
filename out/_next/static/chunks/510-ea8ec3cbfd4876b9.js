(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510],{1226:function(e,t,n){"use strict";var r=n(4942),o=n(91),c=n(8728),i=n(7294),s=n(9145),u=n(9977),a=["variant","size","block","sx","disabled","href","target"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.variant,n=void 0===t?"primary":t,r=e.size,p=void 0===r?"md":r,l=e.block,f=void 0!==l&&l,b=e.sx,g=void 0===b?{}:b,y=e.disabled,h=e.href,v=e.target,w=(0,o.Z)(e,a),x=(0,i.useRef)(null),m=d(d({display:"inline-flex",cursor:"pointer",textTransform:"uppercase",alignItems:"center",justifyContent:"center",width:f?"100%":"auto",m:0,border:0,borderRadius:4,textDecoration:"none",fontFamily:"body","&:hover":{opacity:.8}},(0,c.Z)(["buttons.".concat(y?"disabled":n),"buttons.sizes.".concat(p),"".concat("unstyled"===n?"buttons.unstyled":"")])),g);return h?(0,u.tZ)(s.rU,d(d({href:h,sx:m,target:v},w),{},{children:w.children})):(0,u.tZ)(s.zx,d(d({},w),{},{sx:m,ref:x,disabled:y,children:w.children}))}},4024:function(e,t,n){"use strict";n.d(t,{W:function(){return f},Z:function(){return b}});var r=n(4942),o=n(7091),c=n(5222),i=n(8428),s=n(7294),u=n(9145),a=n(6033),p=n(9977);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={dialog:{width:["100%",500],height:"90vh",margin:"0 auto",backgroundColor:"white",boxShadow:"0px 4px 74px 0px #00000026",borderRadius:8,display:"flex",flexDirection:"column"},dialogExpanded:{width:["100%","100%","100%",950],minHeight:"auto"},header:{position:"sticky",zIndex:1,top:0},topHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:52,pl:3,pr:1,borderBottom:"1px solid",borderColor:"gray.200",backgroundColor:"white",borderTopLeftRadius:8,borderTopRightRadius:8},footer:{position:"sticky",zIndex:1,bottom:0},logo:{display:"flex",alignItems:"center",justifyContent:"center"},logoText:{ml:1,fontSize:1,color:"gray.500",marginTop:1},closeButton:{width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center"},"closeButton:hover":{opacity:.5},body:{pt:40,px:[15,30],pb:0,display:"flex",flexDirection:"column",flex:1,overflowY:"auto"}};function b(e){var t=e.title,n=e.header,r=e.footer,d=e.root,b=e.children,g=(0,s.useRef)(null),y=function(){return c.WalletUtils.close()},h=(0,i.Z)(),v=h.isExpanded,w=h.setCodePreview;return(0,p.BX)(o.V,{open:!0,onClose:y,sx:l(l({},f.dialog),v?f.dialogExpanded:{}),initialFocus:g,children:[(0,p.tZ)(o.V.Overlay,{}),(0,p.BX)("div",{sx:l(l({},f.header),{},{mb:v?0:f.header.mb}),children:[(0,p.BX)("div",{sx:f.topHeader,children:[(0,p.BX)("div",{sx:f.logo,children:[(0,p.tZ)("img",{src:"/flow-logo.svg"}),(0,p.tZ)("span",{sx:f.logoText,children:["FCL Dev Wallet",t].filter(Boolean).join(" - ")})]}),v?(0,p.tZ)(u.xu,{mr:2,children:(0,p.tZ)(a.Z,{onClick:function(){return w(null)}})}):(0,p.tZ)(u.zx,{variant:"unstyled",onClick:y,sx:f.closeButton,ref:g,children:(0,p.tZ)("img",{src:"/x-icon.svg"})})]}),n]}),d?b:(0,p.BX)(p.HY,{children:[(0,p.tZ)("div",{sx:l(l({},f.body),{},{pt:v?0:f.body.pt,pb:v?0:f.body.pb}),children:b}),(0,p.tZ)("div",{sx:f.footer,children:r})]})]})}},6033:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(8428),o=n(9145),c=n(1226),i=n(9977);function s(e){var t=e.onClick,n=(0,r.Z)().isExpanded;return(0,i.BX)(c.Z,{variant:"link",size:"xs",onClick:t,children:[n?"collapse":"expand",(0,i.tZ)(o.kC,{ml:2,sx:{alignItems:"center",justifyContent:"center"},children:(0,i.tZ)("img",{src:"/".concat(n?"collapse":"expand",".svg")})})]})}},7615:function(e,t,n){"use strict";n.d(t,{H:function(){return s},w:function(){return u}});var r=n(5222),o=n(6520),c=n(7294),i=n(5893),s=(0,c.createContext)({currentUser:{},proposer:{},payer:{},authorizers:[],roles:{},proposalKey:{address:"",keyId:0,sequenceNum:0},args:[],cadence:"",computeLimit:0,refBlock:"",message:"",codePreview:null,setCodePreview:function(){return null},isExpanded:!1,connectedAppConfig:void 0});function u(e){var t=e.children,n=(0,c.useState)(null),u=n[0],a=n[1],p=(0,c.useState)(null),d=p[0],l=p[1],f=(0,o.Z)().data;(0,c.useEffect)((function(){r.WalletUtils.ready((function(e){a(e.body)}))}),[]);var b=(0,c.useMemo)((function(){if(!f)return{};var e={};return f.forEach((function(t){return e[t.address]=t})),e}),[f]);if(!u||0===Object.entries(b).length)return null;var g=u.addr,y=u.voucher,h=u.roles,v=u.message,w=localStorage.getItem("connectedAppConfig"),x={currentUser:b[r.withPrefix(g)],proposer:b[r.withPrefix(y.proposalKey.address)],payer:b[r.withPrefix(y.payer)],authorizers:y.authorizers.map((function(e){return b[r.withPrefix(e)]})),roles:h,proposalKey:y.proposalKey,args:y.arguments,cadence:y.cadence,computeLimit:y.computeLimit,refBlock:y.refBlock,message:v,codePreview:d,setCodePreview:l,isExpanded:null!==d,connectedAppConfig:w?JSON.parse(w):void 0,appTitle:"Test Harness",appIcon:"https://placekitten.com/g/200/200"};return(0,i.jsx)(s.Provider,{value:x,children:t})}},6520:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(7294),o=n(4401);function c(){var e=(0,r.useState)([]),t=e[0],n=e[1],c=(0,r.useState)(null),i=c[0],s=c[1],u=(0,r.useState)(!0),a=u[0],p=u[1];return(0,o.T8)().then((function(e){n(e)})).catch((function(e){s(e)})).finally((function(){return p(!1)})),{data:t,error:i,isLoading:a}}},8428:function(e,t,n){"use strict";var r=n(7615),o=n(7294);t.Z=function(){return(0,o.useContext)(r.H)}},8728:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942),o=n(5867),c=n(8710),i=n(8513);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,o.V)(t),s={};return r.map((function(e){s=u(u({},s),(0,i.U2)(c.Z,e))})),s}},4401:function(e,t,n){"use strict";n.d(t,{D0:function(){return v},T8:function(){return x},d2:function(){return O},sG:function(){return A}});var r=n(1451),o=n(5861),c=n(7757),i=n.n(c),s=n(5222),u=n(6060),a=n(9875),p=n(1663),d=n(5424),l=n(1896),f=n(1752),b=n(6012),g=n(8459),y=n(6879),h=(0,f.default)().publicRuntimeConfig;function v(e){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,y.Z)(h.flowAccessNode,h.flowAccountAddress,h.contractFungibleToken,h.contractFlowToken,h.contractFUSD),e.next=3,s.send([s.script(d),s.args([s.arg(t,u.Address)])]).then(s.decode);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(){var t,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,y.Z)(h.flowAccessNode,h.flowAccountAddress,h.contractFungibleToken,h.contractFlowToken,h.contractFUSD),e.next=3,s.send([s.script(p)]).then(s.decode);case 3:return t=e.sent,n=t.find((function(e){return e.address===h.flowAccountAddress})),o=t.filter((function(e){return e.address!==h.flowAccountAddress})).reverse(),e.abrupt("return",[n].concat((0,r.Z)(o)).filter(Boolean));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(i().mark((function e(t,n){var r,o,c,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,y.Z)(h.flowAccessNode,h.flowAccountAddress,h.contractFungibleToken,h.contractFlowToken,h.contractFUSD),e.next=3,(0,b.w)(h.flowAccountAddress,h.flowAccountKeyId,h.flowAccountPrivateKey);case 3:return o=e.sent,e.next=6,s.send([s.transaction(a),s.args([s.arg(t,u.String),s.arg(n,u.Array(u.String))]),s.proposer(o),s.payer(o),s.limit(100)]).then(s.decode);case 6:return c=e.sent,e.next=9,s.tx(c).onceSealed();case 9:if(p=e.sent,null!==(d=p.events.find((function(e){return e.type===g.y$.accountCreated})))&&void 0!==d&&null!==(r=d.data)&&void 0!==r&&r.address){e.next=13;break}throw"Account address not created";case 13:return e.abrupt("return",d.data.address);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(i().mark((function e(t,n,r){var o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.withPrefix(t),(0,y.Z)(h.flowAccessNode,h.flowAccountAddress,h.contractFungibleToken,h.contractFlowToken,h.contractFUSD),e.next=4,(0,b.w)(h.flowAccountAddress,h.flowAccountKeyId,h.flowAccountPrivateKey);case 4:return o=e.sent,e.next=7,s.send([s.transaction(l),s.args([s.arg(t,u.Address),s.arg(n,u.String),s.arg(r,u.Array(u.String))]),s.proposer(o),s.payer(o),s.limit(100)]).then(s.decode);case 7:return c=e.sent,e.next=10,s.tx(c).onceSealed();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6012:function(e,t,n){"use strict";n.d(t,{w:function(){return d}});var r=n(4942),o=n(5861),c=n(7757),i=n.n(c),s=n(5222),u=n(6917);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){return p(p({},e),{},{tempId:"SERVICE_ACCOUNT",addr:s.sansPrefix(t),keyId:Number(n),signingFunction:function(e){return{addr:s.withPrefix(t),keyId:Number(n),signature:(0,u.X)(r,e.message)}}})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8459:function(e,t,n){"use strict";n.d(t,{Hb:function(){return r},y$:function(){return o},HN:function(){return c},Fw:function(){return i},jQ:function(){return s},qX:function(){return u},JA:function(){return a}});var r={root:"/",apiInit:"/api/init",apiIsInit:"/api/is-init",apiAccountFund:function(e){return"/api/accounts/".concat(e,"/fund")},apiAccountFUSDBalance:function(e){return"/api/accounts/".concat(e,"/fusdBalance")},apiAccounts:"/api/accounts",apiAccountsNew:"/api/accounts/new",apiConfig:"/api/config",apiSign:"/api/sign",userSig:"/api/user-sig",proveAuthn:"/api/prove-authn"},o={accountCreated:"flow.AccountCreated"},c="Label is required.",i="Service Account",s="Untitled Dapp",u="FLOW",a="FUSD"},6917:function(e,t,n){"use strict";n.d(t,{n:function(){return u},X:function(){return a}});var r=n(7206),o=n(6266),c=n(5682),i=n(8764).Buffer,s=new o.ec("p256"),u=function(e){return(0,r.z)(e,r.kH,r.pk,1e3)};function a(e,t){var n=s.keyFromPrivate(i.from(e,"hex")).sign(function(e){var t=new c.Aj(256);return t.update(i.from(e,"hex")),t.digest()}(t)),r=n.r.toArrayLike(i,"be",32),o=n.s.toArrayLike(i,"be",32);return i.concat([r,o]).toString("hex")}},6879:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5222);function o(e,t,n,o,c){(0,r.config)().put("accessNode.api",e).put("0xSERVICE",t).put("0xFUNGIBLETOKENADDRESS",n).put("0xFLOWTOKENADDRESS",o).put("0xFUSDADDRESS",c)}},5424:function(e){"use strict";e.exports="pub fun main(address: Address): PublicAccount {\n  return getAccount(address)\n}\n"},1663:function(e){"use strict";e.exports="import FCL from 0xSERVICE\n\npub fun main(): [FCL.Account] {\n  return FCL.accounts().values\n}\n"},9875:function(e){"use strict";e.exports="import FCL from 0xSERVICE\n\ntransaction(label: String, scopes: [String]) {\n  prepare() {\n    FCL.new(label: label, scopes: scopes, address: nil)\n  }\n}\n"},1896:function(e){"use strict";e.exports="import FCL from 0xSERVICE\n\ntransaction(address: Address, label: String, scopes: [String]) {\n  prepare() {\n    FCL.update(address: address, label: label, scopes: scopes)\n  }\n}\n"},6601:function(){},9214:function(){},2361:function(){},4616:function(){}}]);