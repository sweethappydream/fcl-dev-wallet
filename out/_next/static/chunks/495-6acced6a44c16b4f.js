(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{1143:function(e,t,n){"use strict";var r=n(8764).Buffer;t.g=void 0;var o=n(8501),i=n(9267),a=n(1987),s=n(3037);t.g=function(){return function(e){return new u(e)}};var u=function(){function e(e){this.options=e}return e.prototype.sendMessage=function(e){this.options.methodDefinition.requestStream||this.options.methodDefinition.responseStream||this.request.setHeader("Content-Length",e.byteLength),this.request.write(function(e){for(var t=r.alloc(e.byteLength),n=0;n<t.length;n++)t[n]=e[n];return t}(e)),this.request.end()},e.prototype.finishSend=function(){},e.prototype.responseCallback=function(e){var t=this;this.options.debug&&console.log("NodeHttp.response",e.statusCode);var n=function(e){var t={};for(var n in e){var r=e[n];e.hasOwnProperty(n)&&void 0!==r&&(t[n]=r)}return t}(e.headers);this.options.onHeaders(new s.grpc.Metadata(n),e.statusCode),e.on("data",(function(e){t.options.debug&&console.log("NodeHttp.data",e),t.options.onChunk(function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}(e))})),e.on("end",(function(){t.options.debug&&console.log("NodeHttp.end"),t.options.onEnd()}))},e.prototype.start=function(e){var t=this,n={};e.forEach((function(e,t){n[e]=t.join(", ")}));var r=a.parse(this.options.url),s={host:r.hostname,port:r.port?parseInt(r.port):void 0,path:r.path,headers:n,method:"POST"};"https:"===r.protocol?this.request=i.request(s,this.responseCallback.bind(this)):this.request=o.request(s,this.responseCallback.bind(this)),this.request.on("error",(function(e){t.options.debug&&console.log("NodeHttp.error",e),t.options.onEnd(e)}))},e.prototype.cancel=function(){this.options.debug&&console.log("NodeHttp.abort"),this.request.abort()},e}()},3037:function(e){e.exports=function(){return e={418:function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var n,o=this;this.headersMap={},e&&("undefined"!=typeof Headers&&e instanceof Headers?r.getHeaderKeys(e).forEach((function(n){r.getHeaderValues(e,n).forEach((function(e){t.splitValues?o.append(n,r.splitHeaderValue(e)):o.append(n,e)}))})):"object"==typeof(n=e)&&"object"==typeof n.headersMap&&"function"==typeof n.forEach?e.forEach((function(e,t){o.append(e,t)})):"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,t){o.append(t,e)})):"string"==typeof e?this.appendFromString(e):"object"==typeof e&&Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];Array.isArray(n)?n.forEach((function(e){o.append(t,e)})):o.append(t,n)})))}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),n=0;n<t.length;n++){var r=t[n],o=r.indexOf(":");if(o>0){var i=r.substring(0,o).trim(),a=r.substring(o+1).trim();this.append(i,a)}}},e.prototype.delete=function(e,t){var n=r.normalizeName(e);if(void 0===t)delete this.headersMap[n];else{var o=this.headersMap[n];if(o){var i=o.indexOf(t);i>=0&&o.splice(i,1),0===o.length&&delete this.headersMap[n]}}},e.prototype.append=function(e,t){var n=this,o=r.normalizeName(e);Array.isArray(this.headersMap[o])||(this.headersMap[o]=[]),Array.isArray(t)?t.forEach((function(e){n.headersMap[o].push(r.normalizeValue(e))})):this.headersMap[o].push(r.normalizeValue(t))},e.prototype.set=function(e,t){var n=r.normalizeName(e);if(Array.isArray(t)){var o=[];t.forEach((function(e){o.push(r.normalizeValue(e))})),this.headersMap[n]=o}else this.headersMap[n]=[r.normalizeValue(t)]},e.prototype.has=function(e,t){var n=this.headersMap[r.normalizeName(e)];if(!Array.isArray(n))return!1;if(void 0!==t){var o=r.normalizeValue(t);return n.indexOf(o)>=0}return!0},e.prototype.get=function(e){var t=this.headersMap[r.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach((function(n){e(n,t.headersMap[n])}),this)},e.prototype.toHeaders=function(){if("undefined"!=typeof Headers){var e=new Headers;return this.forEach((function(t,n){n.forEach((function(n){e.append(t,n)}))})),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.BrowserHeaders=r.BrowserHeaders},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateHeaders=function(e,t){for(var n=e[Symbol.iterator](),r=n.next();!r.done;)t(r.value[0]),r=n.next()},t.iterateHeadersKeys=function(e,t){for(var n=e.keys(),r=n.next();!r.done;)t(r.value),r=n.next()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.normalizeName=function(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()},t.normalizeValue=function(e){return"string"!=typeof e&&(e=String(e)),e},t.getHeaderValues=function(e,t){var n=e;if(n instanceof Headers&&n.getAll)return n.getAll(t);var r=n.get(t);return r&&"string"==typeof r?[r]:r},t.getHeaderKeys=function(e){var t=e,n={},o=[];return t.keys?r.iterateHeadersKeys(t,(function(e){n[e]||(n[e]=!0,o.push(e))})):t.forEach?t.forEach((function(e,t){n[t]||(n[t]=!0,o.push(t))})):r.iterateHeaders(t,(function(e){var t=e[0];n[t]||(n[t]=!0,o.push(t))})),o},t.splitHeaderValue=function(e){var t=[];return e.split(", ").forEach((function(e){e.split(",").forEach((function(e){t.push(e)}))})),t}}]))},617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkParser=t.ChunkType=t.encodeASCII=t.decodeASCII=void 0;var r,o=n(65);function i(e){return 9===(t=e)||10===t||13===t||e>=32&&e<=126;var t}function a(e){for(var t=0;t!==e.length;++t)if(!i(e[t]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function s(e){return 128==(128&e.getUint8(0))}function u(e){return e.getUint32(1,!1)}function c(e,t,n){return e.byteLength-t>=n}function f(e,t,n){if(e.slice)return e.slice(t,n);var r=e.length;void 0!==n&&(r=n);for(var o=new Uint8Array(r-t),i=0,a=t;a<r;a++)o[i++]=e[a];return o}t.decodeASCII=a,t.encodeASCII=function(e){for(var t=new Uint8Array(e.length),n=0;n!==e.length;++n){var r=e.charCodeAt(n);if(!i(r))throw new Error("Metadata contains invalid ASCII");t[n]=r}return t},function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(r=t.ChunkType||(t.ChunkType={}));var l=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(e,t){if(0===e.length&&t)return[];var n,i=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else{var l=this.buffer.byteLength-this.position,d=new Uint8Array(l+e.byteLength),h=f(this.buffer,this.position);d.set(h,0);var p=new Uint8Array(e);d.set(p,l),this.buffer=d,this.position=0}for(;;){if(!c(this.buffer,this.position,5))return i;var v=f(this.buffer,this.position,this.position+5),g=new DataView(v.buffer,v.byteOffset,v.byteLength),y=u(g);if(!c(this.buffer,this.position,5+y))return i;var m=f(this.buffer,this.position+5,this.position+5+y);if(this.position+=5+y,s(g))return i.push({chunkType:r.TRAILERS,trailers:(n=m,new o.Metadata(a(n)))}),i;i.push({chunkType:r.MESSAGE,data:m})}},e}();t.ChunkParser=l},8:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.httpStatusToCode=t.Code=void 0,function(e){e[e.OK=0]="OK",e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(n=t.Code||(t.Code={})),t.httpStatusToCode=function(e){switch(e){case 0:return n.Internal;case 200:return n.OK;case 400:return n.InvalidArgument;case 401:return n.Unauthenticated;case 403:return n.PermissionDenied;case 404:return n.NotFound;case 409:return n.Aborted;case 412:return n.FailedPrecondition;case 429:return n.ResourceExhausted;case 499:return n.Canceled;case 500:return n.Unknown;case 501:return n.Unimplemented;case 503:return n.Unavailable;case 504:return n.DeadlineExceeded;default:return n.Unknown}}},934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.client=void 0;var r=n(65),o=n(617),i=n(8),a=n(346),s=n(57),u=n(882);t.client=function(e,t){return new c(e,t)};var c=function(){function e(e,t){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new o.ChunkParser,this.methodDefinition=e,this.props=t,this.createTransport()}return e.prototype.createTransport=function(){var e=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,t={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:e,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(t):this.transport=s.makeDefaultTransport(t)},e.prototype.onTransportHeaders=function(e,t){if(this.props.debug&&a.debug("onHeaders",e,t),this.closed)this.props.debug&&a.debug("grpc.onHeaders received after request was closed - ignoring");else if(0===t);else{this.responseHeaders=e,this.props.debug&&a.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var n=f(e);this.props.debug&&a.debug("onHeaders.gRPCStatus",n);var r=n&&n>=0?n:i.httpStatusToCode(t);this.props.debug&&a.debug("onHeaders.code",r);var o=e.get("grpc-message")||[];if(this.props.debug&&a.debug("onHeaders.gRPCMessage",o),this.rawOnHeaders(e),r!==i.Code.OK){var s=this.decodeGRPCStatus(o[0]);this.rawOnError(r,s,e)}}},e.prototype.onTransportChunk=function(e){var t=this;if(this.closed)this.props.debug&&a.debug("grpc.onChunk received after request was closed - ignoring");else{var n=[];try{n=this.parser.parse(e)}catch(e){return this.props.debug&&a.debug("onChunk.parsing error",e,e.message),void this.rawOnError(i.Code.Internal,"parsing error: "+e.message)}n.forEach((function(e){if(e.chunkType===o.ChunkType.MESSAGE){var n=t.methodDefinition.responseType.deserializeBinary(e.data);t.rawOnMessage(n)}else e.chunkType===o.ChunkType.TRAILERS&&(t.responseHeaders?(t.responseTrailers=new r.Metadata(e.trailers),t.props.debug&&a.debug("onChunk.trailers",t.responseTrailers)):(t.responseHeaders=new r.Metadata(e.trailers),t.rawOnHeaders(t.responseHeaders)))}))}},e.prototype.onTransportEnd=function(){if(this.props.debug&&a.debug("grpc.onEnd"),this.closed)this.props.debug&&a.debug("grpc.onEnd received after request was closed - ignoring");else if(void 0!==this.responseTrailers){var e=f(this.responseTrailers);if(null!==e){var t=this.responseTrailers.get("grpc-message"),n=this.decodeGRPCStatus(t[0]);this.rawOnEnd(e,n,this.responseTrailers)}else this.rawOnError(i.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(void 0===this.responseHeaders)return void this.rawOnError(i.Code.Unknown,"Response closed without headers");var r=f(this.responseHeaders),o=this.responseHeaders.get("grpc-message");if(this.props.debug&&a.debug("grpc.headers only response ",r,o),null===r)return void this.rawOnEnd(i.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var s=this.decodeGRPCStatus(o[0]);this.rawOnEnd(r,s,this.responseHeaders)}},e.prototype.decodeGRPCStatus=function(e){if(!e)return"";try{return decodeURIComponent(e)}catch(t){return e}},e.prototype.rawOnEnd=function(e,t,n){var r=this;this.props.debug&&a.debug("rawOnEnd",e,t,n),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(o){if(!r.closed)try{o(e,t,n)}catch(e){setTimeout((function(){throw e}),0)}})))},e.prototype.rawOnHeaders=function(e){this.props.debug&&a.debug("rawOnHeaders",e),this.completed||this.onHeadersCallbacks.forEach((function(t){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e.prototype.rawOnError=function(e,t,n){var o=this;void 0===n&&(n=new r.Metadata),this.props.debug&&a.debug("rawOnError",e,t),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(r){if(!o.closed)try{r(e,t,n)}catch(e){setTimeout((function(){throw e}),0)}})))},e.prototype.rawOnMessage=function(e){var t=this;this.props.debug&&a.debug("rawOnMessage",e.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach((function(n){if(!t.closed)try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e.prototype.onHeaders=function(e){this.onHeadersCallbacks.push(e)},e.prototype.onMessage=function(e){this.onMessageCallbacks.push(e)},e.prototype.onEnd=function(e){this.onEndCallbacks.push(e)},e.prototype.start=function(e){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var t=new r.Metadata(e||{});t.set("content-type","application/grpc-web+proto"),t.set("x-grpc-web","1"),this.transport.start(t)},e.prototype.send=function(e){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var t=u.frameRequest(e);this.transport.sendMessage(t)},e.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},e.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&a.debug("request.abort aborting request"),this.transport.cancel()},e}();function f(e){var t=e.get("grpc-status")||[];if(t.length>0)try{var n=t[0];return parseInt(n,10)}catch(e){return null}return null}},346:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0,t.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug?console.debug.apply(null,e):console.log.apply(null,e)}},607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grpc=void 0;var r,o=n(418),i=n(57),a=n(229),s=n(540),u=n(210),c=n(859),f=n(8),l=n(938),d=n(35),h=n(934);(r=t.grpc||(t.grpc={})).setDefaultTransport=i.setDefaultTransportFactory,r.CrossBrowserHttpTransport=c.CrossBrowserHttpTransport,r.FetchReadableStreamTransport=a.FetchReadableStreamTransport,r.XhrTransport=u.XhrTransport,r.WebsocketTransport=s.WebsocketTransport,r.Code=f.Code,r.Metadata=o.BrowserHeaders,r.client=function(e,t){return h.client(e,t)},r.invoke=l.invoke,r.unary=d.unary},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invoke=void 0;var r=n(934);t.invoke=function(e,t){if(e.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var n=r.client(e,{host:t.host,transport:t.transport,debug:t.debug});return t.onHeaders&&n.onHeaders(t.onHeaders),t.onMessage&&n.onMessage(t.onMessage),t.onEnd&&n.onEnd(t.onEnd),n.start(t.metadata),n.send(t.request),n.finishSend(),{close:function(){n.close()}}}},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(418);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return r.BrowserHeaders}})},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefaultTransport=t.setDefaultTransportFactory=void 0;var r=n(859),o=function(e){return r.CrossBrowserHttpTransport({withCredentials:!1})(e)};t.setDefaultTransportFactory=function(e){o=e},t.makeDefaultTransport=function(e){return o(e)}},229:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.detectFetchSupport=t.FetchReadableStreamTransport=void 0;var o=n(65),i=n(346);t.FetchReadableStreamTransport=function(e){return function(t){return function(e,t){return e.debug&&i.debug("fetchRequest",e),new a(e,t)}(t,e)}};var a=function(){function e(e,t){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=e,this.init=t}return e.prototype.pump=function(e,t){var n=this;if(this.reader=e,this.cancelled)return this.options.debug&&i.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch((function(e){n.options.debug&&i.debug("Fetch.pump.reader.cancel exception",e)}));this.reader.read().then((function(e){if(e.done)return n.options.onEnd(),t;n.options.onChunk(e.value),n.pump(n.reader,t)})).catch((function(e){n.cancelled?n.options.debug&&i.debug("Fetch.catch - request cancelled"):(n.cancelled=!0,n.options.debug&&i.debug("Fetch.catch",e.message),n.options.onEnd(e))}))},e.prototype.send=function(e){var t=this;fetch(this.options.url,r(r({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:e,signal:this.controller&&this.controller.signal})).then((function(e){if(t.options.debug&&i.debug("Fetch.response",e),t.options.onHeaders(new o.Metadata(e.headers),e.status),!e.body)return e;t.pump(e.body.getReader(),e)})).catch((function(e){t.cancelled?t.options.debug&&i.debug("Fetch.catch - request cancelled"):(t.cancelled=!0,t.options.debug&&i.debug("Fetch.catch",e.message),t.options.onEnd(e))}))},e.prototype.sendMessage=function(e){this.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){this.metadata=e},e.prototype.cancel=function(){var e=this;this.cancelled?this.options.debug&&i.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&i.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&i.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&i.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch((function(t){e.options.debug&&i.debug("Fetch.cancel.reader.cancel exception",t)}))):this.options.debug&&i.debug("Fetch.cancel before reader"))},e}();t.detectFetchSupport=function(){return"undefined"!=typeof Response&&Response.prototype.hasOwnProperty("body")&&"function"==typeof Headers}},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossBrowserHttpTransport=void 0;var r=n(229),o=n(210);t.CrossBrowserHttpTransport=function(e){if(r.detectFetchSupport()){var t={credentials:e.withCredentials?"include":"same-origin"};return r.FetchReadableStreamTransport(t)}return o.XhrTransport({withCredentials:e.withCredentials})}},210:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.stringToArrayBuffer=t.MozChunkedArrayBufferXHR=t.XHR=t.XhrTransport=void 0;var i=n(65),a=n(346),s=n(849);t.XhrTransport=function(e){return function(t){if(s.detectMozXHRSupport())return new c(t,e);if(s.detectXHROverrideMimeTypeSupport())return new u(t,e);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var u=function(){function e(e,t){this.options=e,this.init=t}return e.prototype.onProgressEvent=function(){this.options.debug&&a.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var e=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var t=l(e);this.options.onChunk(t)},e.prototype.onLoadEvent=function(){this.options.debug&&a.debug("XHR.onLoadEvent"),this.options.onEnd()},e.prototype.onStateChange=function(){this.options.debug&&a.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new i.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},e.prototype.sendMessage=function(e){this.xhr.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){var t=this;this.metadata=e;var n=new XMLHttpRequest;this.xhr=n,n.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach((function(e,t){n.setRequestHeader(e,t.join(", "))})),n.withCredentials=Boolean(this.init.withCredentials),n.addEventListener("readystatechange",this.onStateChange.bind(this)),n.addEventListener("progress",this.onProgressEvent.bind(this)),n.addEventListener("loadend",this.onLoadEvent.bind(this)),n.addEventListener("error",(function(e){t.options.debug&&a.debug("XHR.error",e),t.options.onEnd(e.error)}))},e.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},e.prototype.cancel=function(){this.options.debug&&a.debug("XHR.abort"),this.xhr.abort()},e}();t.XHR=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.configureXhr=function(){this.options.debug&&a.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},t.prototype.onProgressEvent=function(){var e=this.xhr.response;this.options.debug&&a.debug("MozXHR.onProgressEvent: ",new Uint8Array(e)),this.options.onChunk(new Uint8Array(e))},t}(u);function f(e,t){var n=e.charCodeAt(t);if(n>=55296&&n<=56319){var r=e.charCodeAt(t+1);r>=56320&&r<=57343&&(n=65536+(n-55296<<10)+(r-56320))}return n}function l(e){for(var t=new Uint8Array(e.length),n=0,r=0;r<e.length;r++){var o=String.prototype.codePointAt?e.codePointAt(r):f(e,r);t[n++]=255&o}return t}t.MozChunkedArrayBufferXHR=c,t.stringToArrayBuffer=l},849:function(e,t){"use strict";var n;function r(){if(void 0!==n)return n;if(XMLHttpRequest){n=new XMLHttpRequest;try{n.open("GET","https://localhost")}catch(e){}}return n}function o(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.detectXHROverrideMimeTypeSupport=t.detectMozXHRSupport=t.xhrSupportsResponseType=void 0,t.xhrSupportsResponseType=o,t.detectMozXHRSupport=function(){return"undefined"!=typeof XMLHttpRequest&&o("moz-chunked-arraybuffer")},t.detectXHROverrideMimeTypeSupport=function(){return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketTransport=void 0;var r,o=n(346),i=n(617);!function(e){e[e.FINISH_SEND=1]="FINISH_SEND"}(r||(r={}));var a=new Uint8Array([1]);t.WebsocketTransport=function(){return function(e){return function(e){e.debug&&o.debug("websocketRequest",e);var t,n=function(e){if("https://"===e.substr(0,8))return"wss://"+e.substr(8);if("http://"===e.substr(0,7))return"ws://"+e.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(e.url),s=[];function u(e){if(e===r.FINISH_SEND)t.send(a);else{var n=e,o=new Int8Array(n.byteLength+1);o.set(new Uint8Array([0])),o.set(n,1),t.send(o)}}return{sendMessage:function(e){t&&t.readyState!==t.CONNECTING?u(e):s.push(e)},finishSend:function(){t&&t.readyState!==t.CONNECTING?u(r.FINISH_SEND):s.push(r.FINISH_SEND)},start:function(r){(t=new WebSocket(n,["grpc-websockets"])).binaryType="arraybuffer",t.onopen=function(){var n;e.debug&&o.debug("websocketRequest.onopen"),t.send((n="",r.forEach((function(e,t){n+=e+": "+t.join(", ")+"\r\n"})),i.encodeASCII(n))),s.forEach((function(e){u(e)}))},t.onclose=function(t){e.debug&&o.debug("websocketRequest.onclose",t),e.onEnd()},t.onerror=function(t){e.debug&&o.debug("websocketRequest.onerror",t)},t.onmessage=function(t){e.onChunk(new Uint8Array(t.data))}},cancel:function(){e.debug&&o.debug("websocket.abort"),t.close()}}}(e)}}},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unary=void 0;var r=n(65),o=n(934);t.unary=function(e,t){if(e.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(e.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var n=null,i=null,a=o.client(e,{host:t.host,transport:t.transport,debug:t.debug});return a.onHeaders((function(e){n=e})),a.onMessage((function(e){i=e})),a.onEnd((function(e,o,a){t.onEnd({status:e,statusMessage:o,headers:n||new r.Metadata,message:i,trailers:a})})),a.start(t.metadata),a.send(t.request),a.finishSend(),{close:function(){a.close()}}}},882:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.frameRequest=void 0,t.frameRequest=function(e){var t=e.serializeBinary(),n=new ArrayBuffer(t.byteLength+5);return new DataView(n,1,4).setUint32(0,t.length,!1),new Uint8Array(n,5).set(t),new Uint8Array(n)}}},t={},function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(607);var e,t}()},5222:function(e,t,n){"use strict";n.r(t),n.d(t,{TestUtils:function(){return fr},VERSION:function(){return ao},WalletUtils:function(){return Vi},account:function(){return On},arg:function(){return Jn},args:function(){return Xn},atBlockHeight:function(){return Un},atBlockId:function(){return Mn},authenticate:function(){return Yi},authorization:function(){return jn},authorizations:function(){return Ln},authz:function(){return Qi},build:function(){return Ne},cadence:function(){return x},cdc:function(){return x},config:function(){return $e},createSignableVoucher:function(){return Ht},currentUser:function(){return Ai},decode:function(){return Tn},display:function(){return k},events:function(){return qi},getAccount:function(){return St},getBlock:function(){return Et},getBlockByHeight:function(){return Wn},getBlockById:function(){return qn},getBlockHeader:function(){return Hn},getCollection:function(){return zn},getEvents:function(){return Dn},getEventsAtBlockHeightRange:function(){return Bn},getEventsAtBlockIds:function(){return Fn},getLatestBlock:function(){return Gn},getTransaction:function(){return Vn},getTransactionStatus:function(){return Kn},invariant:function(){return or},isBad:function(){return Ae},isOk:function(){return _e},latestBlock:function(){return xn},limit:function(){return Yn},logIn:function(){return Zi},mutate:function(){return Di},param:function(){return dr},params:function(){return lr},payer:function(){return Zn},ping:function(){return Qn},pipe:function(){return xe},proposer:function(){return $n},query:function(){return vo},reauthenticate:function(){return Ji},ref:function(){return er},sansPrefix:function(){return I},script:function(){return tr},send:function(){return An},serialize:function(){return Bi},signUp:function(){return $i},t:function(){return ea},transaction:function(){return rr},tx:function(){return Ui},unauthenticate:function(){return Xi},validator:function(){return Nn},verifyUserSignatures:function(){return ri},why:function(){return Te},withPrefix:function(){return P}});var r={};n.r(r),n.d(r,{Address:function(){return Kr},Array:function(){return Jr},Bool:function(){return zr},Character:function(){return Wr},Dictionary:function(){return $r},Event:function(){return Zr},Fix64:function(){return Gr},Identity:function(){return Er},Int:function(){return Ir},Int128:function(){return Lr},Int16:function(){return _r},Int256:function(){return Nr},Int32:function(){return Tr},Int64:function(){return xr},Int8:function(){return kr},Optional:function(){return Yr},Reference:function(){return Xr},Resource:function(){return Qr},String:function(){return qr},Struct:function(){return eo},UFix64:function(){return Hr},UInt:function(){return Sr},UInt128:function(){return Or},UInt16:function(){return Rr},UInt256:function(){return jr},UInt32:function(){return Ar},UInt64:function(){return Cr},UInt8:function(){return Pr},Void:function(){return Vr},Word16:function(){return Mr},Word32:function(){return Dr},Word64:function(){return Br},Word8:function(){return Ur},_Array:function(){return Jr}});var o=n(8622),i=n(4375),a=n.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){if(!e.s){if(n instanceof f){if(!n.s)return void(n.o=c.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(c.bind(null,e,t),c.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var f=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{c(r,1,i(this.v))}catch(e){c(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?c(r,1,t?t(o):o):n?c(r,1,n(o)):c(r,2,o)}catch(e){c(r,2,e)}},r},e}();function l(e){return e instanceof f&&1&e.s}function d(e,t,n){for(var r;;){var o=e();if(l(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!l(i)){r=1;break}i=i.s}if(t){var a=t();if(a&&a.then&&!l(a)){r=2;break}}}var s=new f,u=c.bind(null,s,2);return(0===r?o.then(h):1===r?i.then(d):a.then(p)).then(void 0,u),s;function d(r){i=r;do{if(t&&(a=t())&&a.then&&!l(a))return void a.then(p).then(void 0,u);if(!(o=e())||l(o)&&!o.v)return void c(s,1,i);if(o.then)return void o.then(h).then(void 0,u);l(i=n())&&(i=i.v)}while(!i||!i.then);i.then(d).then(void 0,u)}function h(e){e?(i=n())&&i.then?i.then(d).then(void 0,u):d(i):c(s,1,i)}function p(){(o=e())?o.then?o.then(h).then(void 0,u):h(o):c(s,1,i)}}var h="INIT",p="SUBSCRIBE",v="UNSUBSCRIBE",g="UPDATED",y="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||"object"==typeof window&&window.window===window&&window;y.FCL_REGISTRY=null==y.FCL_REGISTRY?{}:y.FCL_REGISTRY;var m=0,b=function(e,t,n,r){return void 0===r&&(r={}),new Promise((function(o,i){var a=r.expectReply||!1,s=null!=r.timeout?r.timeout:5e3;a&&s&&setTimeout((function(){return i(new Error("Timeout: "+s+"ms passed without a response."))}),s);var u={to:e,from:r.from,tag:t,data:n,timeout:s,reply:o,reject:i};try{y.FCL_REGISTRY[e].mailbox.deliver(u),a||o(!0)}catch(e){console.error("FCL.Actor -- Could Not Deliver Message",u,e)}}))},w=function(e,t){if(void 0===t&&(t=null),null==t&&(t=++m),null!=y.FCL_REGISTRY[t])return t;var n,r;y.FCL_REGISTRY[t]={addr:t,mailbox:(r=[],{deliver:function(e){try{return r.push(e),n&&(n(r.shift()),n=void 0),Promise.resolve()}catch(e){return Promise.reject(e)}},receive:function(){return new Promise((function(e){var t=r.shift();if(t)return e(t);n=e}))}}),subs:new Set,kvs:{}};var o,i={self:function(){return t},receive:function(){return y.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r,o){return void 0===o&&(o={}),o.from=t,b(e,n,r,o)},sendSelf:function(e,n,r){y.FCL_REGISTRY[t]&&b(t,e,n,r)},broadcast:function(e,n,r){void 0===r&&(r={}),r.from=t;for(var o,i=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,void 0):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(y.FCL_REGISTRY[t].subs);!(o=i()).done;)b(o.value,e,n,r)},subscribe:function(e){return null!=e&&y.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&y.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return y.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!y.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(y.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=y.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete y.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(y.FCL_REGISTRY[t].kvs[e]=n(y.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(y.FCL_REGISTRY[t].kvs)},all:function(){return y.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(y.FCL_REGISTRY[t].kvs).reduce((function(n,r){var o;return e.test(r)?s({},n,((o={})[r]=y.FCL_REGISTRY[t].kvs[r],o)):n}),{})},merge:function(e){void 0===e&&(e={}),Object.keys(e).forEach((function(n){return y.FCL_REGISTRY[t].kvs[n]=e[n]}))}};return"object"==typeof e&&(void 0===(o=e)&&(o={}),e=function(e){try{var t=function(){var t=d((function(){return 1}),void 0,(function(){return Promise.resolve(e.receive()).then((function(t){var n=function(n,r){try{var i=function(n,r){try{var i=function(){function n(){return Promise.resolve(o[t.tag](e,t,t.data||{})).then((function(){}))}var r=function(){if("EXIT"===t.tag){var n=function(){if("function"==typeof o.TERMINATE)return Promise.resolve(o.TERMINATE(e,t,t.data||{})).then((function(){}))}();if(n&&n.then)return n.then((function(){}))}}();return r&&r.then?r.then(n):n()}()}catch(e){return r(e)}return i&&i.then?i.then(void 0,r):i}(0,(function(n){console.error(e.self()+" Error",t,n)}))}catch(e){return}return i&&i.then?i.then(r.bind(null,!1),r.bind(null,!0)):void 0}(0,(function(e,t){}));if(n&&n.then)return n.then((function(){}))}))}));return t&&t.then?t.then((function(){})):void 0},n=function(){if("function"==typeof o.INIT)return Promise.resolve(o.INIT(e)).then((function(){}))}();return Promise.resolve(n&&n.then?n.then(t):t())}catch(e){return Promise.reject(e)}}),a()((function(){try{return Promise.resolve(e(i)).then((function(){!function(e){delete y.FCL_REGISTRY[e]}(t)}))}catch(T){return Promise.reject(T)}})),t};function E(e,t,n){t(e);var r=w((function(t){try{var r;return t.send(e,"SUBSCRIBE"),Promise.resolve(d((function(){return!r&&1}),void 0,(function(){return Promise.resolve(t.receive()).then((function(o){if("@EXIT"===o.tag)return t.send(e,"UNSUBSCRIBE"),void(r=1);n(o.data)}))})))}catch(e){return Promise.reject(e)}}));return function(){return b(r,"@EXIT")}}var S=n(1325);function I(e){return null==e?null:e.replace(/^0x/,"").replace(/^Fx/,"")}function P(e){return null==e?null:"0x"+I(e)}function k(e){return P(e)}var R=n(3037),_=n(1143),A=n(3026);function T(e,t,n){if(void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===n&&(n=[]),!e.length&&!t.length)return n;if(!e.length)return n;if(!t.length)return[].concat(n,[e[0]]);var r=e[0],o=e.slice(1),i=t[0],a=t.slice(1);return void 0!==r&&n.push(r),void 0!==i&&n.push(i),T(o,a,n)}function C(e){return function(t){return"function"==typeof t?(console.warn("\n        %cFCL/SDK Deprecation Notice\n        ============================\n\n        Interopolation of functions into template literals will not be a thing in future versions of the Flow-JS-SDK or FCL.\n        You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\n\n        ============================\n      ","font-weight:bold;font-family:monospace;"),C(e)(t(e))):String(t)}}function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"string"==typeof e?function(){return e}:Array.isArray(e)?function(t){return T(e,n.map(C(t))).join("").trim()}:e}var O=n(8764).Buffer;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(u){return!1}}function M(e,t,n){return(M=U()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&N(o,n.prototype),o}).apply(null,arguments)}function D(e){var t="function"==typeof Map?new Map:void 0;return(D=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return M(e,arguments,j(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),N(n,e)})(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F,H='{\n  "tag":"UNKNOWN",\n  "assigns":{},\n  "status":"OK",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":null,\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}',G=new Set(Object.keys(JSON.parse(H))),q=function(){return JSON.parse(H)},W="abcdefghijklmnopqrstuvwxyz0123456789".split(""),z=function(){return W[~~(Math.random()*W.length)]},K=function(){return Array.from({length:10},z).join("")},V=function(e){return Array.isArray(e)},Y=function(e){return null==e},X=function(e){return e.status="OK",e},J=function(e,t){return e.status="BAD",e.reason=t,e},$=function(e){return function(t){return t.tag=e,X(t)}},Z=function(e,t){return void 0===t&&(t={}),function(n){var r;(0,o.k)("function"==typeof e||"object"==typeof e,"prepAccount must be passed an authorization function or an account object"),(0,o.k)(null!=t.role,"Account must have a role");var i=JSON.parse('{\n  "kind":"ACCOUNT",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),a=t.role,s=K();return n.accounts[s]=L({},i,{tempId:s},e="function"==typeof e?{resolve:e}:e,{role:L({},i.role,"object"==typeof e.role?e.role:{},(r={},r[a]=!0,r))}),"authorizer"===a?n.authorizations.push(s):n[a]=s,n}},Q=function(e){return function(t){var n=K();return t.message.arguments.push(n),t.arguments[n]=JSON.parse('{\n  "kind":"ARGUMENT",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),t.arguments[n].tempId=n,t.arguments[n].value=e.value,t.arguments[n].asArgument=e.asArgument,t.arguments[n].xform=e.xform,t.arguments[n].resolve=e.resolve,t.arguments[n].resolveArgument=e.resolveArgument,X(t)}},ee=$("SCRIPT"),te=$("TRANSACTION"),ne=$("GET_TRANSACTION_STATUS"),re=$("GET_TRANSACTION"),oe=$("GET_ACCOUNT"),ie=$("GET_EVENTS"),ae=$("GET_LATEST_BLOCK"),se=$("GET_BLOCK_BY_ID"),ue=$("GET_BLOCK_BY_HEIGHT"),ce=$("PING"),fe=$("GET_BLOCK"),le=$("GET_BLOCK_HEADER"),de=$("GET_COLLECTION"),he=function(e){return function(t){return t.tag===e}},pe=(he("UNKNOWN"),he("SCRIPT")),ve=he("TRANSACTION"),ge=he("GET_TRANSACTION_STATUS"),ye=he("GET_TRANSACTION"),me=he("GET_ACCOUNT"),be=he("GET_EVENTS"),we=he("GET_LATEST_BLOCK"),Ee=he("GET_BLOCK_BY_ID"),Se=he("GET_BLOCK_BY_HEIGHT"),Ie=he("PING"),Pe=he("GET_BLOCK"),ke=he("GET_BLOCK_HEADER"),Re=he("GET_COLLECTION"),_e=function(e){return"OK"===e.status},Ae=function(e){return"BAD"===e.status},Te=function(e){return e.reason},Ce=function e(t,n){void 0===n&&(n=[]);try{return Promise.resolve(function(r,o){try{var i=Promise.resolve(t).then((function(r){if(t=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!G.has(r))throw new Error('"'+r+'" is an invalid root level Interaction property.')}return e}(r),Ae(t))throw new Error("Interaction Error: "+t.reason);if(!n.length)return t;var o=n[0],i=n.slice(1);return Promise.resolve(o).then((function(n){if("function"==typeof n)return e(n(t),i);if(Y(n)||!n)return e(t,i);if(function(e){if(null===(t=e)||"object"!=typeof t||Y(e)||function(e){return"number"==typeof e}(e))return!1;for(var t,n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(G);!(n=r()).done;)if(!e.hasOwnProperty(n.value))return!1;return!0}(n))return e(n,i);throw new Error("Invalid Interaction Composition")}))}))}catch(e){return o(e)}return i&&i.then?i.then(void 0,o):i}(0,(function(e){throw e})))}catch(e){return Promise.reject(e)}},xe=function e(){var t=[].slice.call(arguments),n=t[0],r=t[1];return V(n)&&null==r?function(t){return e(t,n)}:Ce(n,r)},Oe=function(e){return e},Le=function(e,t,n){return null==e.assigns[t]?n:e.assigns[t]},je=function(e,t){return function(n){return n.assigns[e]=t,X(n)}};function Ne(e){return void 0===e&&(e=[]),xe(q(),e)}var Ue=function e(t,n){void 0===t&&(t=[]);try{if(!t.length)return Promise.resolve(n);var r=t[0],o=t.slice(1);return Promise.resolve(We(r)).then((function(t){return null==t?e(o,n):t}))}catch(e){return Promise.reject(e)}},Me="config",De="PUT_CONFIG",Be="GET_CONFIG",Fe="CONFIG/UPDATED",He=function(e){return e},Ge=((F={})[De]=function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(Fe,L({},e.all()))},F[Be]=function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))},F.GET_ALL_CONFIG=function(e,t){t.reply(L({},e.all()))},F.UPDATE_CONFIG=function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||He),e.broadcast(Fe,L({},e.all()))},F.DELETE_CONFIG=function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(Fe,L({},e.all()))},F.CLEAR_CONFIG=function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++)e.delete(r[n]);e.broadcast(Fe,L({},e.all()))},F.WHERE_CONFIG=function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))},F[p]=function(e,t){e.subscribe(t.from),e.send(t.from,Fe,L({},e.all()))},F[v]=function(e,t){e.unsubscribe(t.from)},F);function qe(e,t){return b(Me,De,{key:e,value:t}),$e()}function We(e,t){return b(Me,Be,{key:e,fallback:t},{expectReply:!0,timeout:10})}function ze(){return b(Me,"GET_ALL_CONFIG",null,{expectReply:!0,timeout:10})}function Ke(e,t){return void 0===t&&(t=He),b(Me,"UPDATE_CONFIG",{key:e,fn:t}),$e()}function Ve(e){return b(Me,"DELETE_CONFIG",{key:e}),$e()}function Ye(e){return b(Me,"WHERE_CONFIG",{pattern:e},{expectReply:!0,timeout:10})}function Xe(e){return E(Me,(function(){return w(Ge,Me)}),e)}function Je(){return b(Me,"CLEAR_CONFIG")}function $e(e){return null!=e&&"object"==typeof e&&Object.keys(e).map((function(t){return qe(t,e[t])})),{put:qe,get:We,all:ze,first:Ue,update:Ke,delete:Ve,where:Ye,subscribe:Xe,overload:Qe}}w(Ge,Me),$e.put=qe,$e.get=We,$e.all=ze,$e.first=Ue,$e.update=Ke,$e.delete=Ve,$e.where=Ye,$e.subscribe=Xe,$e.overload=Qe;var Ze=function(e){return e};function Qe(e,t){return void 0===e&&(e={}),void 0===t&&(t=Ze),new Promise((function(n,r){try{return Promise.resolve(ze()).then((function(o){var i=function(r,i){try{var a=function(){$e(e);var r=t;return Promise.resolve(ze()).then((function(e){return Promise.resolve(r(e)).then((function(e){return Promise.resolve(Je()).then((function(){return Promise.resolve($e(o)).then((function(){n(e)}))}))}))}))}()}catch(e){return i(e)}return a&&a.then?a.then(void 0,i):a}(0,(function(e){return Promise.resolve(Je()).then((function(){return Promise.resolve($e(o)).then((function(){r(e)}))}))}));if(i&&i.then)return i.then((function(){}))}))}catch(e){return Promise.reject(e)}}))}var et=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')},tt=function(e,t,n){try{return Promise.resolve($e().get("grpc.metadata",{})).then((function(r){return new Promise((function(o,i){R.grpc.unary(t,{request:n,host:e,metadata:new R.grpc.Metadata(r),onEnd:function(e){var t=e.statusMessage;e.status===R.grpc.Code.OK?o(e.message):i(new Error(t))}})}))}))}catch(e){return Promise.reject(e)}};R.grpc.setDefaultTransport((0,_.g)());var nt=function(e){return O.from(e,"hex")},rt=function(e){return O.from(e.padStart(16,0),"hex")},ot=function(e){return O.from(e).toString("hex")},it=function(e){return O.from(JSON.stringify(e),"utf8")};function at(e,t){var n=et();return n.tag=e.tag,n.encodedData=JSON.parse(O.from(t.getValue_asU8()).toString("utf8")),n}var st=function(e){return O.from(e).toString("hex")},ut=function(e){return O.from(e.padStart(16,0),"hex")};function ct(e,t){var n=et();n.tag=e.tag;var r,o=t.getAccount(),i=(r=o.getContractsMap())?r.getEntryList().reduce((function(e,t){var n;return L({},e,((n={})[t[0]]=O.from(t[1]||new UInt8Array).toString("utf8"),n))}),{}):{};return n.account={address:P(st(o.getAddress_asU8())),balance:o.getBalance(),code:O.from(o.getCode_asU8()||new UInt8Array).toString("utf8"),contracts:i,keys:o.getKeysList().map((function(e){return{index:e.getIndex(),publicKey:st(e.getPublicKey_asU8()),signAlgo:e.getSignAlgo(),hashAlgo:e.getHashAlgo(),weight:e.getWeight(),sequenceNumber:e.getSequenceNumber(),revoked:e.getRevoked()}}))},n}var ft=function(e){return O.from(e).toString("hex")};function lt(e,t){var n=et();n.tag=e.tag;var r=t.getResultsList();return n.events=r.reduce((function(e,t){var n=ft(t.getBlockId_asU8()),r=t.getBlockHeight(),o=t.getBlockTimestamp().toDate().toISOString();return t.getEventsList().forEach((function(t){e.push({blockId:n,blockHeight:r,blockTimestamp:o,type:t.getType(),transactionId:ft(t.getTransactionId_asU8()),transactionIndex:t.getTransactionIndex(),eventIndex:t.getEventIndex(),payload:JSON.parse(O.from(t.getPayload_asU8()).toString("utf8"))})})),e}),[]),n}var dt=function(e){return O.from(e).toString("hex")};function ht(e,t){var n=t.getBlock(),r=n.getCollectionGuaranteesList(),o=n.getBlockSealsList(),i=n.getSignaturesList().map(dt),a=et();return a.tag=e.tag,a.block={id:dt(n.getId_asU8()),parentId:dt(n.getParentId_asU8()),height:n.getHeight(),timestamp:n.getTimestamp().toDate().toISOString(),collectionGuarantees:r.map((function(e){return{collectionId:dt(e.getCollectionId_asU8()),signatures:e.getSignaturesList().map(dt)}})),blockSeals:o.map((function(e){return{blockId:dt(e.getBlockId_asU8()),executionReceiptId:dt(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList().map(dt),resultApprovalSignatures:e.getResultApprovalSignaturesList().map(dt)}})),signatures:i},a}var pt=function(e){return O.from(e).toString("hex")};function vt(e,t){var n=t.getBlock(),r=et();return r.tag=e.tag,r.blockHeader={id:pt(n.getId_asU8()),parentId:pt(n.getParentId_asU8()),height:n.getHeight(),timestamp:n.getTimestamp().toDate().toISOString()},r}var gt=function(e){return O.from(e).toString("hex")},yt=function(e){return O.from(e).toString("hex")},mt=function(e){return O.from(e).toString("hex")},bt=function(e){return O.from(e).toString("hex")},wt=function(e,t){void 0===t&&(t={});try{var n=function(n){return t.node=n,(0,o.k)(t.node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),Promise.resolve(e).then((function(n){switch(e=n,!0){case ve(e):return t.sendTransaction?t.sendTransaction(e,t):function(e,t){void 0===t&&(t={});try{(0,o.k)(t.node,"SDK Send Transaction Error: opts.node must be defined.");var n=t.unary||tt;return Promise.resolve(e).then((function(r){e=r;var o=new S.Transaction;o.setScript(function(e){return O.from(e,"utf8")}(e.message.cadence)),o.setGasLimit(e.message.computeLimit),o.setReferenceBlockId(e.message.refBlock?nt(e.message.refBlock):null),o.setPayer(rt(I(e.accounts[e.payer].addr))),e.message.arguments.forEach((function(t){return o.addArguments(function(e){return O.from(JSON.stringify(e),"utf8")}(e.arguments[t].asArgument))})),e.authorizations.map((function(t){return e.accounts[t].addr})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(e,[t])}),[]).forEach((function(e){return o.addAuthorizers(rt(I(e)))}));var i=new S.Transaction.ProposalKey;i.setAddress(rt(I(e.accounts[e.proposer].addr))),i.setKeyId(e.accounts[e.proposer].keyId),i.setSequenceNumber(e.accounts[e.proposer].sequenceNum),o.setProposalKey(i);for(var a=0,s=Object.values(e.accounts);a<s.length;a++){var u=s[a];try{if(!u.role.payer&&null!=u.signature){var c=new S.Transaction.Signature;c.setAddress(rt(I(u.addr))),c.setKeyId(u.keyId),c.setSignature(nt(u.signature)),o.addPayloadSignatures(c)}}catch(r){throw console.error("Trouble applying payload signature",{acct:u,ix:e}),r}}for(var f=0,l=Object.values(e.accounts);f<l.length;f++){var d=l[f];try{if(d.role.payer&&null!=d.signature){var h=new S.Transaction.Signature;h.setAddress(rt(I(d.addr))),h.setKeyId(d.keyId),h.setSignature(nt(d.signature)),o.addEnvelopeSignatures(h)}}catch(r){throw console.error("Trouble applying envelope signature",{acct:d,ix:e}),r}}var p=new S.SendTransactionRequest;p.setTransaction(o);var v=Date.now();return Promise.resolve(n(t.node,S.AccessAPI.SendTransaction,p)).then((function(t){var n,r=Date.now(),o=et();return o.tag=e.tag,o.transactionId=(n=t.getId_asU8(),O.from(n).toString("hex")),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:o.transactionId,delta:r-v}})),o}))}))}catch(u){return Promise.reject(u)}}(e,t);case ge(e):return t.sendGetTransactionStatus?t.sendGetTransactionStatus(e,t):function(e,t){void 0===t&&(t={});try{(0,o.k)(t.node,"SDK Send Get Transaction Status Error: opts.node must be defined.");var n=t.unary||tt;return Promise.resolve(e).then((function(r){e=r;var o=new S.GetTransactionRequest;return o.setId(O.from(e.transaction.id,"hex")),Promise.resolve(n(t.node,S.AccessAPI.GetTransactionResult,o)).then((function(t){var n=t.getEventsList(),r=et();return r.tag=e.tag,r.transactionStatus={status:t.getStatus(),statusCode:t.getStatusCode(),errorMessage:t.getErrorMessage(),events:n.map((function(e){return{type:e.getType(),transactionId:(t=e.getTransactionId_asU8(),O.from(t).toString("hex")),transactionIndex:e.getTransactionIndex(),eventIndex:e.getEventIndex(),payload:JSON.parse(O.from(e.getPayload_asU8()).toString("utf8"))};var t}))},r}))}))}catch(u){return Promise.reject(u)}}(e,t);case ye(e):return t.sendGetTransaction?t.sendGetTransaction(e,t):function(e,t){void 0===t&&(t={});try{(0,o.k)(t.node,"SDK Send Get Transaction Error: opts.node must be defined.");var n=t.unary||tt;return Promise.resolve(e).then((function(r){e=r;var o=new S.GetTransactionRequest;return o.setId(O.from(e.transaction.id,"hex")),Promise.resolve(n(t.node,S.AccessAPI.GetTransaction,o)).then((function(t){var n=et();n.tag=e.tag;var r,o=function(e){return{address:ot(e.getAddress_asU8()),keyId:e.getKeyId(),signature:ot(e.getSignature_asU8())}},i=t.getTransaction();return n.transaction={script:O.from(i.getScript_asU8()).toString("utf8"),args:i.getArgumentsList().map((function(e){return JSON.parse(O.from(e).toString("utf8"))})),referenceBlockId:ot(i.getReferenceBlockId_asU8()),gasLimit:i.getGasLimit(),proposalKey:(r=i.getProposalKey(),{address:ot(r.getAddress_asU8()),keyId:r.getKeyId(),sequenceNumber:r.getSequenceNumber()}),payer:ot(i.getPayer_asU8()),authorizers:i.getAuthorizersList().map(ot),payloadSignatures:i.getPayloadSignaturesList().map(o),envelopeSignatures:i.getEnvelopeSignaturesList().map(o)},n}))}))}catch(u){return Promise.reject(u)}}(e,t);case pe(e):return t.sendExecuteScript?t.sendExecuteScript(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Execute Script Error: opts.node must be defined."),Promise.resolve(e).then((function(n){return e=n,Promise.resolve(e.block.id?function(e,t){try{var n=t.unary||tt,r=new S.ExecuteScriptAtBlockIDRequest;r.setBlockId(O.from(e.block.id,"hex"));var o=O.from(e.message.cadence,"utf8");return e.message.arguments.forEach((function(t){return r.addArguments(it(e.arguments[t].asArgument))})),r.setScript(o),Promise.resolve(n(t.node,S.AccessAPI.ExecuteScriptAtBlockID,r)).then((function(t){return at(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):e.block.height?function(e,t){try{var n=t.unary||tt,r=new S.ExecuteScriptAtBlockHeightRequest;r.setBlockHeight(Number(e.block.height));var o=O.from(e.message.cadence,"utf8");return e.message.arguments.forEach((function(t){return r.addArguments(it(e.arguments[t].asArgument))})),r.setScript(o),Promise.resolve(n(t.node,S.AccessAPI.ExecuteScriptAtBlockHeight,r)).then((function(t){return at(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):function(e,t){try{var n=t.unary||tt,r=new S.ExecuteScriptAtLatestBlockRequest,o=O.from(e.message.cadence,"utf8");return e.message.arguments.forEach((function(t){return r.addArguments(it(e.arguments[t].asArgument))})),r.setScript(o),Promise.resolve(n(t.node,S.AccessAPI.ExecuteScriptAtLatestBlock,r)).then((function(t){return at(e,t)}))}catch(e){return Promise.reject(e)}}(e,t))}))}catch(u){return Promise.reject(u)}}(e,t);case me(e):return t.sendGetAccount?t.sendGetAccount(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Get Account Error: opts.node must be defined."),Promise.resolve(e).then((function(n){return e=n,Promise.resolve(null!==e.block.height?function(e,t){try{var n=t.unary||tt,r=new S.GetAccountAtBlockHeightRequest;return r.setBlockHeight(Number(e.block.height)),r.setAddress(ut(I(e.account.addr))),Promise.resolve(n(t.node,S.AccessAPI.GetAccountAtBlockHeight,r)).then((function(t){return ct(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):function(e,t){try{var n=t.unary||tt,r=new S.GetAccountAtLatestBlockRequest;return r.setAddress(ut(I(e.account.addr))),Promise.resolve(n(t.node,S.AccessAPI.GetAccountAtLatestBlock,r)).then((function(t){return ct(e,t)}))}catch(e){return Promise.reject(e)}}(e,t))}))}catch(u){return Promise.reject(u)}}(e,t);case be(e):return t.sendGetEvents?t.sendGetEvents(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Get Events Error: opts.node must be defined."),Promise.resolve(e).then((function(n){var r=null!==(e=n).events.start,i=Array.isArray(e.events.blockIds)&&e.events.blockIds.length>0;return(0,o.k)(r||i,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),Promise.resolve(r?function(e,t){try{var n=t.unary||tt,r=new S.GetEventsForHeightRangeRequest;return r.setType(e.events.eventType),r.setStartHeight(Number(e.events.start)),r.setEndHeight(Number(e.events.end)),Promise.resolve(n(t.node,S.AccessAPI.GetEventsForHeightRange,r)).then((function(t){return lt(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):function(e,t){try{var n=t.unary||tt,r=new S.GetEventsForBlockIDsRequest;return r.setType(e.events.eventType),e.events.blockIds.forEach((function(e){return r.addBlockIds(O.from(e,"hex"))})),Promise.resolve(n(t.node,S.AccessAPI.GetEventsForBlockIDs,r)).then((function(t){return lt(e,t)}))}catch(e){return Promise.reject(e)}}(e,t))}))}catch(u){return Promise.reject(u)}}(e,t);case we(e):return t.sendGetLatestBlock?t.sendGetLatestBlock(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Get Latest Block Error: opts.node must be defined."),Promise.resolve(e).then((function(n){e=n;var r=new S.GetLatestBlockRequest;return e.latestBlock&&e.latestBlock.isSealed&&(r.setIsSealed(e.latestBlock.isSealed),console.error("\n          %c@onflow/send Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;")),e.block&&e.block.isSealed&&r.setIsSealed(e.block.isSealed),Promise.resolve(tt(t.node,S.AccessAPI.GetLatestBlock,r)).then((function(t){var n=t.getBlock(),r=n.getCollectionGuaranteesList(),o=n.getBlockSealsList(),i=n.getSignaturesList(),a=et();return a.tag=e.tag,a.block={id:gt(n.getId_asU8()),parentId:gt(n.getParentId_asU8()),height:n.getHeight(),timestamp:n.getTimestamp(),collectionGuarantees:r.map((function(e){return{collectionId:gt(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}})),blockSeals:o.map((function(e){return{blockId:gt(e.getBlockId_asU8()),executionReceiptId:gt(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}})),signatures:i},a}))}))}catch(u){return Promise.reject(u)}}(e,t);case Pe(e):return t.sendGetBlock?t.sendGetBlock(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Get Block Error: opts.node must be defined."),Promise.resolve(e).then((function(n){var r=null!==(e=n).block.height;return Promise.resolve(null!==e.block.id?function(e,t){try{var n=t.unary||tt,r=new S.GetBlockByIDRequest;return r.setId(O.from(e.block.id,"hex")),Promise.resolve(n(t.node,S.AccessAPI.GetBlockByID,r)).then((function(t){return ht(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):r?function(e,t){try{var n=t.unary||tt,r=new S.GetBlockByHeightRequest;return r.setHeight(Number(e.block.height)),Promise.resolve(n(t.node,S.AccessAPI.GetBlockByHeight,r)).then((function(t){return ht(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):function(e,t){try{var n,r=t.unary||tt,o=new S.GetLatestBlockRequest;return null!=(n=e.block)&&n.isSealed&&o.setIsSealed(e.block.isSealed),Promise.resolve(r(t.node,S.AccessAPI.GetLatestBlock,o)).then((function(t){return ht(e,t)}))}catch(e){return Promise.reject(e)}}(e,t))}))}catch(u){return Promise.reject(u)}}(e,t);case ke(e):return t.sendGetBlockHeader?t.sendGetBlockHeader(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Get Block Header Error: opts.node must be defined."),Promise.resolve(e).then((function(n){var r=null!==(e=n).block.height;return Promise.resolve(null!==e.block.id?function(e,t){try{var n=t.unary||tt,r=new S.GetBlockHeaderByIDRequest;return r.setId(O.from(e.block.id,"hex")),Promise.resolve(n(t.node,S.AccessAPI.GetBlockHeaderByID,r)).then((function(t){return vt(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):r?function(e,t){try{var n=t.unary||tt,r=new S.GetBlockHeaderByHeightRequest;return r.setHeight(Number(e.block.height)),Promise.resolve(n(t.node,S.AccessAPI.GetBlockHeaderByHeight,r)).then((function(t){return vt(e,t)}))}catch(e){return Promise.reject(e)}}(e,t):function(e,t){try{var n,r=t.unary||tt,o=new S.GetLatestBlockHeaderRequest;return null!=(n=e.block)&&n.isSealed&&o.setIsSealed(e.block.isSealed),Promise.resolve(r(t.node,S.AccessAPI.GetLatestBlockHeader,o)).then((function(t){return vt(e,t)}))}catch(e){return Promise.reject(e)}}(e,t))}))}catch(u){return Promise.reject(u)}}(e,t);case Ee(e):return t.sendGetBlockById?t.sendGetBlockById(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Get Block By ID Error: opts.node must be defined."),Promise.resolve(e).then((function(n){e=n;var r=new S.GetBlockByIDRequest;return r.setId(O.from(e.block.id,"hex")),Promise.resolve(tt(t.node,S.AccessAPI.GetBlockByID,r)).then((function(t){var n=t.getBlock(),r=n.getCollectionGuaranteesList(),o=n.getBlockSealsList(),i=n.getSignaturesList(),a=et();return a.tag=e.tag,a.block={id:yt(n.getId_asU8()),parentId:yt(n.getParentId_asU8()),height:n.getHeight(),timestamp:n.getTimestamp(),collectionGuarantees:r.map((function(e){return{collectionId:yt(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}})),blockSeals:o.map((function(e){return{blockId:yt(e.getBlockId_asU8()),executionReceiptId:yt(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}})),signatures:i},a}))}))}catch(u){return Promise.reject(u)}}(e,t);case Se(e):return t.sendGetBlockByHeight?t.sendGetBlockByHeight(e,t):function(e,t){void 0===t&&(t={});try{return(0,o.k)(t.node,"SDK Send Get Block By Height Error: opts.node must be defined."),Promise.resolve(e).then((function(n){e=n;var r=new S.GetBlockByHeightRequest;return r.setHeight(Number(e.block.height)),Promise.resolve(tt(t.node,S.AccessAPI.GetBlockByHeight,r)).then((function(t){var n=t.getBlock(),r=n.getCollectionGuaranteesList(),o=n.getBlockSealsList(),i=n.getSignaturesList(),a=et();return a.tag=e.tag,a.block={id:mt(n.getId_asU8()),parentId:mt(n.getParentId_asU8()),height:n.getHeight(),timestamp:n.getTimestamp(),collectionGuarantees:r.map((function(e){return{collectionId:mt(e.getCollectionId_asU8()),signatures:e.getSignaturesList()}})),blockSeals:o.map((function(e){return{blockId:mt(e.getBlockId_asU8()),executionReceiptId:mt(e.getExecutionReceiptId_asU8()),executionReceiptSignatures:e.getExecutionReceiptSignaturesList(),resultApprovalSignatures:e.getResultApprovalSignaturesList()}})),signatures:i},a}))}))}catch(u){return Promise.reject(u)}}(e,t);case Re(e):return t.sendGetCollection?t.sendGetCollection(e,t):function(e,t){void 0===t&&(t={});try{(0,o.k)(t.node,"SDK Send Get Collection Error: opts.node must be defined.");var n=t.unary||tt;return Promise.resolve(e).then((function(r){e=r;var o=new S.GetCollectionByIDRequest;return o.setId(O.from(e.collection.id,"hex")),Promise.resolve(n(t.node,S.AccessAPI.GetCollectionByID,o)).then((function(t){var n=t.getCollection(),r=et();return r.tag=e.tag,r.collection={id:bt(n.getId_asU8()),transactionIds:n.getTransactionIdsList().map(bt)},r}))}))}catch(u){return Promise.reject(u)}}(e,t);case Ie(e):return t.sendPing?t.sendPing(e,t):function(e,t){void 0===t&&(t={});try{(0,o.k)(t.node,"SDK Send Ping Error: opts.node must be defined.");var n=t.unary||tt;return Promise.resolve(e).then((function(r){e=r;var o=new S.PingRequest;return Promise.resolve(n(t.node,S.AccessAPI.Ping,o)).then((function(t){var n=et();return n.tag=e.tag,n}))}))}catch(u){return Promise.reject(u)}}(e,t);default:return e}}))},r=t.node;return Promise.resolve(r?n(r):Promise.resolve($e().get("accessNode.api")).then(n))}catch(u){return Promise.reject(u)}};function Et(e){return void 0===e&&(e=null),xe([fe,function(t){return t.block.isSealed=e,X(t)}])}function St(e){return xe([oe,function(t){return t.account.addr=I(e),X(t)}])}var It=function(e,t,n){try{try{return Promise.resolve(Number(e))}catch(e){throw new Error("Decode Number Error : "+n.join("."))}}catch(e){return Promise.reject(e)}},Pt=function(e){return Promise.resolve(e)},kt=function(e,t,n){try{return Promise.resolve(e.fields.reduce((function(e,r){try{return Promise.resolve(e).then((function(o){return e=o,Promise.resolve(At(r.value,t,[].concat(n,[r.name]))).then((function(t){return e[r.name]=t,e}))}))}catch(e){return Promise.reject(e)}}),Promise.resolve({}))).then((function(n){var r=e.id&&_t(t,e.id);return r?Promise.resolve(r(n)):n}))}catch(e){return Promise.reject(e)}},Rt={UInt:It,Int:It,UInt8:It,Int8:It,UInt16:It,Int16:It,UInt32:It,Int32:It,UInt64:It,Int64:It,UInt128:It,Int128:It,UInt256:It,Int256:It,Word8:It,Word16:It,Word32:It,Word64:It,UFix64:Pt,Fix64:Pt,String:Pt,Character:Pt,Bool:Pt,Address:Pt,Void:function(){return Promise.resolve(null)},Optional:function(e,t,n){return Promise.resolve(e?At(e,t,n):null)},Reference:function(e){try{return Promise.resolve({address:e.address,type:e.type})}catch(e){return Promise.reject(e)}},Array:function(e,t,n){try{return Promise.resolve(Promise.all(e.map((function(e){return new Promise((function(r){try{return Promise.resolve(At(e,t,[].concat(n,[e.type]))).then(r)}catch(e){return Promise.reject(e)}}))}))))}catch(e){return Promise.reject(e)}},Dictionary:function(e,t,n){try{return Promise.resolve(e.reduce((function(e,r){try{return Promise.resolve(e).then((function(o){return e=o,Promise.resolve(At(r.key,t,[].concat(n,[r.key]))).then((function(o){return Promise.resolve(At(r.value,t,[].concat(n,[r.key]))).then((function(t){return e[o]=t,e}))}))}))}catch(e){return Promise.reject(e)}}),Promise.resolve({})))}catch(e){return Promise.reject(e)}},Event:kt,Resource:kt,Struct:kt,Enum:kt,Type:function(e){try{return Promise.resolve(e.staticType)}catch(e){return Promise.reject(e)}},Path:function(e){try{return Promise.resolve({domain:e.domain,identifier:e.identifier})}catch(e){return Promise.reject(e)}},Capability:function(e){try{return Promise.resolve({path:e.path,address:e.address,borrowType:e.borrowType})}catch(e){return Promise.reject(e)}}},_t=function(e,t){var n=Object.keys(e).find((function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(t):e===t}));return t&&n&&e[n]},At=function(e,t,n){try{var r=_t(t,e.type);if(!r)throw new Error("Undefined Decoder Error: "+e.type+"@"+n.join("."));return Promise.resolve(r(e.value,t,n))}catch(e){return Promise.reject(e)}},Tt=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var r=L({},Rt,t);return Promise.resolve(At(e,r,n))},Ct=function(e,t){void 0===t&&(t={});try{var n,r=L({},Rt,t),o=e.encodedData?(n=1,Promise.resolve(Tt(e.encodedData,r))):e.transactionStatus?(n=1,Promise.resolve(Promise.all(e.transactionStatus.events.map((function(e){try{var t=e.eventIndex,n=e.transactionIndex,o=e.transactionId,i=e.type;return Promise.resolve(Tt(e.payload,r)).then((function(e){return{type:i,transactionId:o,transactionIndex:n,eventIndex:t,data:e}}))}catch(e){return Promise.reject(e)}})))).then((function(t){return L({},e.transactionStatus,{events:t})}))):e.transaction?(n=1,e.transaction):e.events?(n=1,Promise.resolve(Promise.all(e.events.map((function(e){try{var t=e.eventIndex,n=e.transactionIndex,o=e.transactionId,i=e.type,a=e.blockTimestamp,s=e.blockHeight,u=e.blockId;return Promise.resolve(Tt(e.payload,r)).then((function(e){return{blockId:u,blockHeight:s,blockTimestamp:a,type:i,transactionId:o,transactionIndex:n,eventIndex:t,data:e}}))}catch(e){return Promise.reject(e)}}))))):e.account?(n=1,e.account):e.block?(n=1,e.block):e.blockHeader?(n=1,e.blockHeader):e.latestBlock?(console.error("\n          %c@onflow/decode Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;"),n=1,e.latestBlock):e.transactionId?(n=1,e.transactionId):e.collection?(n=1,e.collection):void 0;return Promise.resolve(o&&o.then?o.then((function(e){return n?e:null})):n?o:null)}catch(e){return Promise.reject(e)}};var xt=function(e){return"function"==typeof e},Ot=function(e){return"string"==typeof e},Lt="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function jt(e,t,n){if(!e.s){if(n instanceof Nt){if(!n.s)return void(n.o=jt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(jt.bind(null,e,t),jt.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Nt=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{jt(r,1,i(this.v))}catch(e){jt(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?jt(r,1,t?t(o):o):n?jt(r,1,n(o)):jt(r,2,o)}catch(e){jt(r,2,e)}},r},e}();function Ut(e){return e instanceof Nt&&1&e.s}var Mt=function e(t,n){void 0===n&&(n=3);try{return(0,o.k)(n>0,"Argument Resolve Recursion Limit Exceeded for Arg: "+t.tempId),Dt(t.resolveArgument)?Promise.resolve(t.resolveArgument()).then((function(t){return e(t,n-1)})):Promise.resolve(t)}catch(u){return Promise.reject(u)}},Dt=function(e){return"function"==typeof e};function Bt(e){var t=new Set(e.authorizations);return t.add(e.proposer),t.delete(e.payer),Array.from(t)}function Ft(e){var t=new Set([e.payer]);return Array.from(t)}var Ht=function(e){return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map((function(t){return e.arguments[t].asArgument})),proposalKey:{address:P(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:P(e.accounts[e.payer].addr),authorizers:function(){var t=e.authorizations.map((function(t){return P(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(e,[t])}),[]);return t[0]?t:[]}(),payloadSigs:Bt(e).map((function(t){return{address:P(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}})),envelopeSigs:Ft(e).map((function(t){return{address:P(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}}))}},Gt="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function qt(e,t,n){if(!e.s){if(n instanceof Wt){if(!n.s)return void(n.o=qt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(qt.bind(null,e,t),qt.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Wt=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{qt(r,1,i(this.v))}catch(e){qt(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?qt(r,1,t?t(o):o):n?qt(r,1,n(o)):qt(r,2,o)}catch(e){qt(r,2,e)}},r},e}();function zt(e){return e instanceof Wt&&1&e.s}var Kt,Vt=function e(t,n,r,i){void 0===i&&(i=3);try{var a=function(){r&&(t.authorizations=t.authorizations.map((function(e){return e===r.tempId?s:e})).reduce((function(e,t){return Array.isArray(t)?[].concat(e,t):[].concat(e,[t])}),[]))};(0,o.k)(i,"Account Resolve Recursion Limit Exceeded",{ix:t,accounts:n});var s=[],c=function(e,t,n){if("function"==typeof e[Gt]){var r,o,i,a=e[Gt]();if(function e(n){try{for(;!(r=a.next()).done;)if((n=t(r.value))&&n.then){if(!zt(n))return void n.then(e,i||(i=qt.bind(null,o=new Wt,2)));n=n.v}o?qt(o,1,n):o=n}catch(e){qt(o||(o=new Wt),2,e)}}(),a.return){var s=function(e){try{r.done||a.return()}catch(e){}return e};if(o&&o.then)return o.then(s,(function(e){throw s(e)}));s()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],c=0;c<e.length;c++)u.push(e[c]);return function(e,t,n){var r,o,i=-1;return function n(a){try{for(;++i<e.length;)if((a=t(i))&&a.then){if(!zt(a))return void a.then(n,o||(o=qt.bind(null,r=new Wt,2)));a=a.v}r?qt(r,1,a):r=a}catch(e){qt(r||(r=new Wt),2,e)}}(),r}(u,(function(e){return t(u[e])}))}(n,(function(n){function o(){function o(){a.tempId!=n.tempId&&delete t.accounts[a.tempId]}var u=function(){if(Array.isArray(n))return Promise.resolve(e(t,n,a,i-1)).then((function(){}));null!=n.addr&&null!=n.keyId&&(n.tempId=n.addr+"-"+n.keyId),t.accounts[n.tempId]=t.accounts[n.tempId]||n,t.accounts[n.tempId].role.proposer=t.accounts[n.tempId].role.proposer||n.role.proposer,t.accounts[n.tempId].role.payer=t.accounts[n.tempId].role.payer||n.role.payer,t.accounts[n.tempId].role.authorizer=t.accounts[n.tempId].role.authorizer||n.role.authorizer,t.accounts[n.tempId].role.proposer&&t.proposer===a.tempId&&(t.proposer=n.tempId),t.accounts[n.tempId].role.payer&&t.payer===a.tempId&&(t.payer=n.tempId),t.accounts[n.tempId].role.authorizer&&(r?s=Array.from(new Set([].concat(s,[n.tempId]))):t.authorizations=t.authorizations.map((function(e){return e===a.tempId?n.tempId:e})))}();return u&&u.then?u.then(o):o()}var a=r||n,u=function(){if(Yt(n.resolve))return Promise.resolve(n.resolve(n,function(e,t){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map((function(e){return t.arguments[e].asArgument})),data:{},interaction:t,voucher:Ht(t)}}catch(e){throw console.error("buildPreSignable",e),e}}(n,t))).then((function(e){n=e}))}();return u&&u.then?u.then(o):o()}));return Promise.resolve(c&&c.then?c.then(a):a())}catch(u){return Promise.reject(u)}},Yt=function(e){return"function"==typeof e},Xt=function(e){return Qt(rn(on(e)))},Jt=function(e){return Qt(rn(an(e)))},$t=function(e,t){return O.from(e.padStart(2*t,0),"hex")},Zt=(Kt=O.from("FLOW-V0.0-transaction").toString("hex"),O.from(Kt.padEnd(64,0),"hex")).toString("hex"),Qt=function(e){return Zt+e},en=function(e){return $t(e,8)},tn=function(e){return O.from(JSON.stringify(e),"utf8")},nn=function(e){return O.from(e,"utf8")},rn=function(e){return(0,A.cv)(e).toString("hex")},on=function(e){return cn(e),[nn(e.cadence),e.arguments.map(tn),(t=e.refBlock,$t(t,32)),e.computeLimit,en(e.proposalKey.address),e.proposalKey.keyId,e.proposalKey.sequenceNum,en(e.payer),e.authorizers.map(en)];var t},an=function(e){return fn(e),[on(e),sn(e)]},sn=function(e){var t=un(e);return e.payloadSigs.map((function(e){return{signerIndex:t.get(e.address),keyId:e.keyId,sig:e.sig}})).sort((function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0})).map((function(e){return[e.signerIndex,e.keyId,(t=e.sig,O.from(t,"hex"))];var t}))},un=function(e){var t=new Map,n=0,r=function(e){t.has(e)||(t.set(e,n),n++)};return r(e.proposalKey.address),r(e.payer),e.authorizers.forEach(r),t},cn=function(e){vn.forEach((function(t){return bn(e,t)})),gn.forEach((function(t){return bn(e.proposalKey,t,"proposalKey")}))},fn=function(e){yn.forEach((function(t){return bn(e,t)})),e.payloadSigs.forEach((function(e,t){mn.forEach((function(n){return bn(e,n,"payloadSigs",t)}))}))},ln=function(e){return"number"==typeof e},dn=function(e){return"string"==typeof e},hn=function(e){return null!==e&&"object"==typeof e},pn=function(e){return hn(e)&&e instanceof Array},vn=[{name:"cadence",check:dn},{name:"arguments",check:pn},{name:"refBlock",check:dn,defaultVal:"0"},{name:"computeLimit",check:ln},{name:"proposalKey",check:hn},{name:"payer",check:dn},{name:"authorizers",check:pn}],gn=[{name:"address",check:dn},{name:"keyId",check:ln},{name:"sequenceNum",check:ln}],yn=[{name:"payloadSigs",check:pn}],mn=[{name:"address",check:dn},{name:"keyId",check:ln},{name:"sig",check:dn}],bn=function(e,t,n,r){var o=t.name,i=t.check,a=t.defaultVal;if(null==e[o]&&null!=a&&(e[o]=a),null==e[o])throw En(o,n,r);if(!i(e[o]))throw Sn(o,n,r)},wn=function(e,t,n){return t?null==n?t+"."+e:t+"."+n+"."+e:e},En=function(e,t,n){return new Error("Missing field "+wn(e,t,n))},Sn=function(e,t,n){return new Error("Invalid field "+wn(e,t,n))};function In(e,t){return function(n){try{var r=e.accounts[n];return null!=r.signature?Promise.resolve():Promise.resolve(r.signingFunction(function(e,t,n){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:I(e.addr),keyId:e.keyId,roles:e.role,cadence:n.message.cadence,args:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),data:{},interaction:n,voucher:Ht(n)}}catch(e){throw console.error("buildSignable",e),e}}(r,t,e))).then((function(t){e.accounts[n].signature=t.signature}))}catch(e){return Promise.reject(e)}}}function Pn(e){return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map((function(t){return e.arguments[t].asArgument})),proposalKey:{address:I(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:I(e.accounts[e.payer].addr),authorizers:e.authorizations.map((function(t){return I(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(e,[t])}),[])}}var kn=function(e){return e},Rn=function(e,t){return void 0===t&&(t=kn),function(n){try{var r=function(e){return["\nAccounts:",{proposer:e.proposer,authorizations:e.authorizations,payer:e.payer},"\n\nDetails:",e.accounts].filter(Boolean)},o=function(){var t;(t=console).log.apply(t,["debug["+e+"] ---\n"].concat([].slice.call(arguments),["\n\n\n---"]))};return Promise.resolve($e.get("debug."+e)).then((function(e){var i=function(){if(e)return Promise.resolve(t(n,o,r)).then((function(){}))}();return i&&i.then?i.then((function(){return n})):n}))}catch(e){return Promise.reject(e)}}},_n=xe([function(e){try{var t=function(){if(ve(e)||pe(e)){var t=function(){return(0,o.k)(Ot(n),"Cadence needs to be a string at this point."),Promise.resolve($e().where(/^0x/).then((function(e){return Object.entries(e).reduce((function(e,t){return e.replace(t[0],t[1])}),n)}))).then((function(t){e.message.cadence=t}))},n=Le(e,"ix.cadence");(0,o.k)(xt(n)||Ot(n),"Cadence needs to be a function or a string.");var r=function(){if(xt(n))return Promise.resolve(n({})).then((function(e){n=e}))}();return r&&r.then?r.then(t):t()}}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(u){return Promise.reject(u)}},Rn("cadence",(function(e,t){return t(e.message.cadence)})),function(e){try{var t=function(){if(ve(e)||pe(e)){var t=function(e,t,n){if("function"==typeof e[Lt]){var r,o,i,a=e[Lt]();if(function e(n){try{for(;!(r=a.next()).done;)if((n=t(r.value))&&n.then){if(!Ut(n))return void n.then(e,i||(i=jt.bind(null,o=new Nt,2)));n=n.v}o?jt(o,1,n):o=n}catch(e){jt(o||(o=new Nt),2,e)}}(),a.return){var s=function(e){try{r.done||a.return()}catch(e){}return e};if(o&&o.then)return o.then(s,(function(e){throw s(e)}));s()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],c=0;c<e.length;c++)u.push(e[c]);return function(e,t,n){var r,o,i=-1;return function n(a){try{for(;++i<e.length;)if((a=t(i))&&a.then){if(!Ut(a))return void a.then(n,o||(o=jt.bind(null,r=new Nt,2)));a=a.v}r?jt(r,1,a):r=a}catch(e){jt(r||(r=new Nt),2,e)}}(),r}(u,(function(e){return t(u[e])}))}(Object.entries(e.arguments),(function(t){var n=t[0];return Promise.resolve(Mt(t[1])).then((function(t){e.arguments[n].asArgument=function(e){return(0,o.k)(null!=typeof e.xform,"No type specified for argument: "+e.value),Dt(e.xform)?e.xform(e.value):Dt(e.xform.asArgument)?e.xform.asArgument(e.value):void(0,o.k)(!1,"Invalid Argument",e)}(t)}))}));if(t&&t.then)return t.then((function(){}))}}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(u){return Promise.reject(u)}},Rn("arguments",(function(e,t){return t(e.message.arguments,e.message)})),function(e){try{var t=function(){if(ve(e))return function(t,n){try{var r=Promise.resolve(Vt(e,Object.values(e.accounts))).then((function(){return Promise.resolve(Vt(e,Object.values(e.accounts))).then((function(){}))}))}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,(function(e){throw console.error("=== SAD PANDA ===\n\n",e,"\n\n=== SAD PANDA ==="),e}))}();return Promise.resolve(t&&t.then?t.then((function(t){return e})):e)}catch(e){return Promise.reject(e)}},Rn("accounts",(function(e,t,n){return t.apply(void 0,n(e))})),function(e){try{var t=function(){if(ve(e)&&null==e.message.refBlock)return Promise.resolve($e.first(["sdk.transport","sdk.send"],wt)).then((function(t){return Promise.resolve(t(Ne([Et()])).then(Ct)).then((function(t){e.message.refBlock=t.id}))}))}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(e){return Promise.reject(e)}},function(e){try{var t=function(){if(ve(e))return Promise.resolve($e.first(["sdk.transport","sdk.send"],wt)).then((function(t){var n=Object.values(e.accounts).find((function(e){return e.role.proposer}));(0,o.k)(n,"Transactions require a proposer");var r=function(){if(null==n.sequenceNum)return Promise.resolve(Ne([St(n.addr)])).then((function(r){return Promise.resolve(t(r).then(Ct).then((function(e){return e.keys})).then((function(e){return e.find((function(e){return e.index===n.keyId}))})).then((function(e){return e.sequenceNumber}))).then((function(t){e.accounts[n.tempId].sequenceNum=t}))}))}();if(r&&r.then)return r.then((function(){}))}))}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(u){return Promise.reject(u)}},function(e){try{var t=function(){if(ve(e))return function(t,n){try{var r=(o=Bt(e),i=Xt(Pn(e)),Promise.resolve(Promise.all(o.map(In(e,i)))).then((function(){var t=Ft(e),n=Jt(L({},Pn(e),{payloadSigs:o.map((function(t){return{address:e.accounts[t].addr,keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}}))}));return Promise.resolve(Promise.all(t.map(In(e,n)))).then((function(){}))})))}catch(e){return n(e)}var o,i;return r&&r.then?r.then(void 0,n):r}(0,(function(t){throw console.error("Signatures",t,{ix:e}),t}))}();return Promise.resolve(t&&t.then?t.then((function(t){return e})):e)}catch(e){return Promise.reject(e)}},Rn("signatures",(function(e,t,n){return t.apply(void 0,n(e))})),function(e){try{for(var t=0,n=Object.keys(e.accounts);t<n.length;t++){var r=n[t];e.accounts[r].addr=I(e.accounts[r].addr)}return Promise.resolve(e)}catch(e){return Promise.reject(e)}},function(e){try{var t=Le(e,"ix.validators",[]);return Promise.resolve(xe(e,t.map((function(e){return function(t){return e(t,{Ok:X,Bad:J})}}))))}catch(e){return Promise.reject(e)}},Rn("resolved",(function(e,t){return t(e)}))]),An=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});try{return Promise.resolve($e.first(["sdk.transport","sdk.send"],t.send||wt)).then((function(n){return Promise.resolve($e.first(["sdk.resolve"],t.resolve||_n)).then((function(r){return Array.isArray(e)&&(e=xe(q(),e)),Promise.resolve(r(e)).then((function(e){return n(e,t)}))}))}))}catch(e){return Promise.reject(e)}},Tn=function(e){try{return Promise.resolve($e().where(/^decoder\./)).then((function(t){var n=Object.entries(t).map((function(e){var t=e[0],n=e[1];return[t="/"+t.replace(/^decoder\./,"")+"$/",n]}));return Ct(e,Object.fromEntries(n))}))}catch(e){return Promise.reject(e)}},Cn=function(e){var t,n;function r(t){var n,r=("\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: "+t+". \n        Please ensure the address: "+t+" is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(n=e.call(this,r)||this).name="Unable To Determine Message Encoding For Signer Addresss",n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,N(t,n),r}(D(Error));function xn(){var e=[].slice.call(arguments),t=e[1]||("object"==typeof e[0]?e[0]:void 0),n="boolean"==typeof e[0]?e[0]:void 0;return"object"==typeof e[0]&&console.warn("\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\n  \n      ============================\n    ","font-weight:bold;font-family:monospace;"),An([Et(n)],t).then(Ct)}function On(e,t){return An([St(e)],t).then(Ct)}function Ln(e){return void 0===e&&(e=[]),xe(e.map((function(e){return Z(e,{role:"authorizer"})})))}function jn(e,t,n,r){return{addr:e,signingFunction:t,keyId:n,sequenceNum:r}}function Nn(e){return function(e,t){return void 0===t&&(t=Oe),function(n){return n.assigns[e]=t(n.assigns[e],n),X(n)}}("ix.validators",(function(t){return Array.isArray(t)?t.push(e):[e]}))}function Un(e){return xe([function(t){return t.block.height=e,t},Nn((function(e){if("boolean"==typeof e.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e}))])}function Mn(e){return xe([function(t){return t.block.id=e,X(t)},Nn((function(e,t){var n=t.Ok,r=t.Bad;return me(e)?r(e,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof e.block.isSealed?r(e,"Unable to specify both block id and isSealed."):e.block.height?r(e,"Unable to specify both block id and block height."):n(e)}))])}function Dn(e,t,n){return void 0===t&&void 0===n||console.warn("\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\n  \n      ============================\n    ","font-weight:bold;font-family:monospace;"),xe([ie,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,X(r)}])}function Bn(e,t,n){return xe([ie,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,X(r)}])}function Fn(e,t){return void 0===t&&(t=[]),xe([ie,function(n){return n.events.eventType=e,n.events.blockIds=t,X(n)}])}function Hn(e){return void 0===e&&(e=null),xe([le,function(t){return t.block.isSealed=e,X(t)}])}function Gn(e){return void 0===e&&(e=!1),console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),xe([ae,function(t){return t.block.isSealed=e,X(t)}])}function qn(e){return console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),xe([se,function(t){return t.block.ids=[e],X(t)}])}function Wn(e){return console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\n\n    ============================\n  ","font-weight:bold;font-family:monospace;"),xe([ue,function(t){return t.block.height=e,X(t)}])}function zn(e){return void 0===e&&(e=null),xe([de,function(t){return t.collection.id=e,t}])}function Kn(e){return xe([ne,function(t){return t.transaction.id=e,X(t)}])}function Vn(e){return xe([re,function(t){return t.transaction.id=e,X(t)}])}function Yn(e){return function(t){return t.message.computeLimit=e,t}}function Xn(e){return void 0===e&&(e=[]),xe(e.map(Q))}function Jn(e,t){return{value:e,xform:t}}var $n=function(e){try{return Promise.resolve(Z(e,{role:"proposer"}))}catch(e){return Promise.reject(e)}},Zn=function(e){try{return Promise.resolve(Z(e,{role:"payer"}))}catch(e){return Promise.reject(e)}};function Qn(){return ce}function er(e){return xe([function(t){return t.message.refBlock=e,X(t)}])}function tr(){return xe([ee,je("ix.cadence",x.apply(void 0,[].slice.call(arguments)))])}var nr=[];function rr(){return xe([te,je("ix.cadence",x.apply(void 0,[].slice.call(arguments))),function(e){return e.message.computeLimit=e.message.computeLimit||10,e.message.refBlock=e.message.refBlock||null,e.authorizations=e.authorizations||nr,X(e)}])}function or(){var e=[].slice.call(arguments);if(e.length>1){var t=e,n=t[0],r=t[1];return or((function(e,t){var o=t.Bad;return n?(0,t.Ok)(e):o(e,r)}))}var o=e[0];return function(e){return o(e,{Ok:X,Bad:J})}}var ir=function(e){return e},ar=["tempId"];function sr(e){return["SIGNATURE",e.addr,e.keyId].join(".")}function ur(e){return void 0===e&&(e={}),function(t){var n=L({},t,e,{signingFunction:e.signingFunction||t.signingFunction||function(e){return{addr:n.addr,keyId:n.keyId,signature:sr(n)}}});return n}}var cr={proposer:!1,authorizer:!1,payer:!1},fr={__proto__:null,mockSend:function(e){return void 0===e&&(e=ir),function(t){try{return Promise.resolve(t).then((function(n){switch(t=n,!0){case me(t):return function(e,t){return void 0===t&&(t=5),(0,o.k)(e.account,"mockAccountResponse(ix) -- ix.account is missing",e),(0,o.k)(e.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",e),{account:{addr:e.account.addr,keys:Array.from({length:t},(function(e,t){return{index:t,sequenceNumber:42}}))}}}(t);case Pe(t):return{tag:"GET_BLOCK",block:{id:"32"}};default:return e(t)}}))}catch(u){return Promise.reject(u)}}},authzFn:ur,authzResolve:function(e){return void 0===e&&(e={}),function(t){return L({},t,{tempId:e.tempId||"WITH_RESOLVE",resolve:ur(function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}(e,ar))})}},authzResolveMany:function(e){return void 0===e&&(e={}),function(t){return L({},t,{tempId:e.tempId||"AUTHZ_RESOLVE_MANY",resolve:function(){return[e.proposer&&ur(e.proposer)({role:L({},cr,{proposer:!0})})].concat(e.authorizations.map(ur).map((function(e){return e({role:L({},cr,{authorizer:!0})})})),[e.payer&&ur(e.payer)({role:L({},cr,{payer:!0})})]).filter(Boolean)}})}},sig:sr,idof:function(e){return e.addr+"-"+e.keyId},run:function(e){return void 0===e&&(e=[]),Ne([er("123")].concat(e)).then(_n)}},lr=function(e){return t={name:"params",transitionsPath:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"},void console.error("\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The "+t.name+" builder has been removed from the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: "+t.transitionsPath+"\n    ============================\n  ","font-weight:bold;font-family:monospace;");var t},dr=function(e){return t={name:"param",transitionsPath:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"},void console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The "+t.name+" builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: "+t.transitionsPath+"\n    ============================\n  ","font-weight:bold;font-family:monospace;");var t},hr=function(e,t,n){return{label:e,asArgument:t,asInjection:n}},pr=function(e){return Array.isArray(e)},vr=function(e){return"object"==typeof e},gr=function(e){return null==e},yr=function(e){return"number"==typeof e},mr=function(e){return Number.isInteger(e)},br=function(e){return"string"==typeof e},wr=function(e){throw new Error("Type Error: "+e)},Er=hr("Identity",(function(e){return e}),(function(e){return e})),Sr=hr("UInt",(function(e){if(yr(e)&&mr(e))return{type:"UInt",value:e.toString()};wr("Expected Positive Integer for type Unsigned Int")}),(function(e){return e})),Ir=hr("Int",(function(e){if(yr(e)&&mr(e))return{type:"Int",value:e.toString()};wr("Expected Integer for type Int")}),(function(e){return e})),Pr=hr("UInt8",(function(e){if(yr(e)&&mr(e))return{type:"UInt8",value:e.toString()};wr("Expected integer for UInt8")}),(function(e){return e})),kr=hr("Int8",(function(e){if(yr(e)&&mr(e))return{type:"Int8",value:e.toString()};wr("Expected positive integer for Int8")}),(function(e){return e})),Rr=hr("UInt16",(function(e){if(yr(e)&&mr(e))return{type:"UInt16",value:e.toString()};wr("Expected integer for UInt16")}),(function(e){return e})),_r=hr("Int16",(function(e){if(yr(e)&&mr(e))return{type:"Int16",value:e.toString()};wr("Expected positive integer for Int16")}),(function(e){return e})),Ar=hr("UInt32",(function(e){if(yr(e)&&mr(e))return{type:"UInt32",value:e.toString()};wr("Expected integer for UInt32")}),(function(e){return e})),Tr=hr("Int32",(function(e){if(yr(e)&&mr(e))return{type:"Int32",value:e.toString()};wr("Expected positive integer for Int32")}),(function(e){return e})),Cr=hr("UInt64",(function(e){if(yr(e)&&mr(e))return{type:"UInt64",value:e.toString()};wr("Expected integer for UInt64")}),(function(e){return e})),xr=hr("Int64",(function(e){if(yr(e)&&mr(e))return{type:"Int64",value:e.toString()};wr("Expected positive integer for Int64")}),(function(e){return e})),Or=hr("UInt128",(function(e){if(yr(e)&&mr(e))return{type:"UInt128",value:e.toString()};wr("Expected integer for UInt128")}),(function(e){return e})),Lr=hr("Int128",(function(e){if(yr(e)&&mr(e))return{type:"Int128",value:e.toString()};wr("Expected positive integer for Int128")}),(function(e){return e})),jr=hr("UInt256",(function(e){if(yr(e)&&mr(e))return{type:"UInt256",value:e.toString()};wr("Expected integer for UInt256")}),(function(e){return e})),Nr=hr("Int256",(function(e){if(yr(e)&&mr(e))return{type:"Int256",value:e.toString()};wr("Expected integer for Int256")}),(function(e){return e})),Ur=hr("Word8",(function(e){if(yr(e)&&mr(e))return{type:"Word8",value:e.toString()};wr("Expected positive number for Word8")}),(function(e){return e})),Mr=hr("Word16",(function(e){if(yr(e)&&mr(e))return{type:"Word16",value:e.toString()};wr("Expected positive number for Word16")}),(function(e){return e})),Dr=hr("Word32",(function(e){if(yr(e)&&mr(e))return{type:"Word32",value:e.toString()};wr("Expected positive number for Word32")}),(function(e){return e})),Br=hr("Word64",(function(e){if(yr(e)&&mr(e))return{type:"Word64",value:e.toString()};wr("Expected positive number for Word64")}),(function(e){return e})),Fr=function(){console.error("\n          %c@onflow/types Deprecation Notice\n          ========================\n\n          Passing in Numbers as values for Fix64 and UFix64 types is deprecated and will cease to work in future releases of @onflow/types.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;")},Hr=hr("UFix64",(function(e){if(br(e)){var t=e.split(".");return 2!==t.length&&wr("Expected one decimal but found "+t.length+" in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),(0==t[1].length||t[1].length>8)&&wr("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found "+t[1].length+" digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),{type:"UFix64",value:e}}if(yr(e))return Fr(),{type:"UFix64",value:e.toString()};wr("Expected String for UFix64")}),(function(e){return e})),Gr=hr("Fix64",(function(e){if(br(e)){var t=e.split(".");return 2!==t.length&&wr("Expected one decimal but found "+t.length+" in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),(0==t[1].length||t[1].length>8)&&wr("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found "+t[1].length+" digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers"),{type:"Fix64",value:e}}if(yr(e))return Fr(),{type:"Fix64",value:e.toString()};wr("Expected String for Fix64")}),(function(e){return e})),qr=hr("String",(function(e){if(br(e))return{type:"String",value:e};wr("Expected String for type String")}),(function(e){return e})),Wr=hr("Character",(function(e){if(br(e))return{type:"Character",value:e};wr("Expected Character for type Character")}),(function(e){return e})),zr=hr("Bool",(function(e){if("boolean"==typeof e)return{type:"Bool",value:e};wr("Expected Boolean for type Bool")}),(function(e){return e})),Kr=hr("Address",(function(e){if(br(e))return{type:"Address",value:e};wr("Expected Address for type Address")}),(function(e){return e})),Vr=hr("Void",(function(e){if(!e||gr(e))return{type:"Void"};wr("Expected Void for type Void")}),(function(e){return e})),Yr=function(e){return hr("Optional",(function(t){return{type:"Optional",value:gr(t)?null:e.asArgument(t)}}),(function(e){return e}))},Xr=hr("Reference",(function(e){if(vr(e))return{type:"Reference",value:e};wr("Expected Object for type Reference")}),(function(e){return e})),Jr=function(e){return void 0===e&&(e=[]),hr("Array",(function(t){return{type:"Array",value:pr(e)?e.map((function(e,n){return e.asArgument(t[n])})):t.map((function(t){return e.asArgument(t)}))}}),(function(e){return e}))},$r=function(e){return void 0===e&&(e=[]),hr("Dictionary",(function(t){if(vr(t))return{type:"Dictionary",value:pr(e)?e.map((function(e,n){return{key:e.key.asArgument(t[n].key),value:e.value.asArgument(t[n].value)}})):pr(t)?t.map((function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}})):[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]};wr("Expected Object for type Dictionary")}),(function(e){return e}))},Zr=function(e,t){return void 0===t&&(t=[]),hr("Event",(function(n){if(vr(n))return{type:"Event",value:{id:e,fields:pr(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};wr("Expected Object for type Event")}),(function(e){return e}))},Qr=function(e,t){return void 0===t&&(t=[]),hr("Resource",(function(n){if(vr(n))return{type:"Resource",value:{id:e,fields:pr(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};wr("Expected Object for type Resource")}),(function(e){return e}))},eo=function(e,t){return void 0===t&&(t=[]),hr("Struct",(function(n){if(vr(n))return{type:"Struct",value:{id:e,fields:pr(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};wr("Expected Object for type Struct")}),(function(e){return e}))},to="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",no=to.length;function ro(){for(var e="",t=32;t--;)e+=to[Math.random()*no|0];return e}var oo=n(8764).Buffer,io=function(e){try{return Promise.resolve($e().where(e)).then((function(t){return Object.fromEntries(Object.entries(t).map((function(t){var n=t[1];return[t[0].replace(e,""),n]})))}))}catch(e){return Promise.reject(e)}};$e({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":{can:!("undefined"==typeof window),get:function(e){try{return Promise.resolve(JSON.parse(sessionStorage.getItem(e)))}catch(e){return Promise.reject(e)}},put:function(e,t){try{return Promise.resolve(sessionStorage.setItem(e,JSON.stringify(t)))}catch(e){return Promise.reject(e)}}},"fcl.appDomainTag.default":"APP-V0.0-user"});var ao="0.0.78-alpha.4",so=function(e){return function(t){return typeof t===e}},uo=function(e){return null!=e},co=so("object"),fo=so("string"),lo=so("function"),ho=so("number");function po(e){return lo(e)?e(Jn,r):[]}var vo=function(e){void 0===e&&(e={});try{return Promise.resolve(function(e){try{return(0,o.k)(uo(e.cadence),"query({ cadence }) -- cadence is required"),(0,o.k)(fo(e.cadence),"query({ cadence }) -- cadence must be a string"),Promise.resolve($e.get("accessNode.api")).then((function(e){(0,o.k)(e,'Required value for "accessNode.api" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration')}))}catch(u){return Promise.reject(u)}}(e)).then((function(){return An([tr(e.cadence),Xn(po(e.args||[])),e.limit&&"number"==typeof e.limit&&Yn(e.limit)]).then(Tn)}))}catch(u){return Promise.reject(u)}};function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var bo={f_type:"Service",f_vsn:"1.0.0"},wo={f_type:"Identity",f_vsn:"1.0.0"},Eo={f_type:"USER",f_vsn:"1.0.0"},So={f_type:"PollingResponse",f_vsn:"1.0.0"},Io={f_type:"CompositeSignature",f_vsn:"1.0.0"};function Po(e){return null==e?null:"1.0.0"===e.f_vsn?e:go({old:e},bo,{type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}})}function ko(e){return null==e?null:"1.0.0"===e.f_vsn?e:go({},bo,{type:"back-channel-rpc",endpoint:e.endpoint,method:e.method,params:e.params||{},data:e.data||{}})}function Ro(e){return null==e?null:(null==e.method&&(e=go({},e,{type:"local-view",method:"VIEW/IFRAME"})),"1.0.0"===e.f_vsn?e:go({},bo,{type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}}))}var _o={"back-channel-rpc":ko,"pre-authz":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:go({},bo,{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:go({},wo,{address:P(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authz:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:go({},bo,{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:go({},wo,{address:P(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authn:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:go({},bo,{type:e.type,uid:e.id,endpoint:e.authn,id:e.pid,provider:{address:P(e.addr),name:e.name,icon:e.icon}})},frame:Po,"open-id":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:null},"user-signature":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("Invalid user-signature service")},"local-view":Ro,"account-proof":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw new Error("Invalid account-proof service")}};function Ao(e){return A.cv([e.provider.address||e.provider.name||"UNSPECIFIED",e.id]).toString("hex")}function To(e,t){return void 0===e&&(e=[]),e.find((function(e){return e.type===t}))}function Co(e){var t=new URL(e.endpoint);if(t.searchParams.append("l6n",window.location.origin),null!=e.params)for(var n=0,r=Object.entries(e.params||{});n<r.length;n++){var o=r[n];t.searchParams.append(o[0],o[1])}return t}function xo(e,t){void 0===t&&(t={});var n=t.method||"POST",r="GET"===n?void 0:JSON.stringify(t.data||e.data||{});return fetch(Co(e),{method:n,headers:go({},e.headers||{},t.headers||{},{"Content-Type":"application/json"}),body:r}).then((function(e){return e.json()}))}function Oo(e){var t,n;return null==e?null:"1.0.0"===e.f_vsn?e:go({},So,{status:null!=(t=e.status)?t:"APPROVED",reason:null!=(n=e.reason)?n:null,data:e.compositeSignature||e.data||go({},e)||{},updates:ko(e.authorizationUpdates),local:Po((e.local||[])[0])})}var Lo=function e(t,n){void 0===n&&(n=function(){return!0});try{if((0,o.k)(t,"Missing Polling Service",{service:t}),!n())throw new Error("Externally Halted");return Promise.resolve(xo(t,{method:No(t)}).then(Oo)).then((function(t){switch(t.status){case"APPROVED":return t.data;case"DECLINED":throw new Error("Declined: "+(t.reason||"No reason supplied."));default:return Promise.resolve(new Promise((function(e){return setTimeout(e,500)}))).then((function(){return e(t.updates,n)}))}}))}catch(e){return Promise.reject(e)}},jo={"HTTP/GET":"GET","HTTP/POST":"POST"},No=function(e){return(0,o.k)(jo[e.method],"Invalid Service Method for type back-channel-rpc",{service:e}),jo[e.method]},Uo="FCL_IFRAME";function Mo(e){(0,o.k)(!document.getElementById(Uo),"Attempt at triggering multiple Frames",{src:e});var t=document.createElement("iframe");return t.src=e,t.id=Uo,t.allow="usb *; hid *",t.frameBorder="0",t.style.cssText="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100vh;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n",document.body.append(t),[t.contentWindow,function(){document.getElementById(Uo)&&document.getElementById(Uo).remove()}]}var Do=null,Bo=null;function Fo(e){var t,n;null==Do||null!=(t=Do)&&t.closed?(n=window,Do=n.open(e,"FCL_POP","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=640, height=770, top="+(n.top.outerHeight/2+n.top.screenY-385)+", left="+(n.top.outerWidth/2+n.top.screenX-320))):Bo!==e?(Do.location.replace(e),Do.focus()):Do.focus(),Bo=e;var r=setInterval((function(){Do&&Do.closed&&(clearInterval(r),Do=null)}),1e3);return[Do,function(){Do&&!Do.closed&&(Do.close(),Do=null)}]}var Ho=null,Go=null;function qo(e){var t;null==Ho||null!=(t=Ho)&&t.closed?Ho=window.open(e,"_blank"):Go!==e?(Ho.location.replace(e),Ho.focus()):Ho.focus(),Go=e;var n=setInterval((function(){Ho&&Ho.closed&&(clearInterval(n),Ho=null)}),1e3);return[Ho,function(){Ho&&!Ho.closed&&(Ho.close(),Ho=null)}]}var Wo,zo={"VIEW/IFRAME":Mo,"VIEW/POP":Fo,"VIEW/TAB":qo},Ko=function(e,t,n){try{var r={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(n){return Promise.resolve(io(/^app\.detail\./)).then((function(o){return Promise.resolve(xo(e,{data:go({fclVersion:ao,service:r,config:{services:n,app:o}},t)}).then(Oo)).then((function(t){if("APPROVED"===t.status)return t.data;if("DECLINED"===t.status)throw new Error("Declined: "+(t.reason||"No reason supplied."));if("REDIRECT"===t.status)return t;if("PENDING"===t.status){var n=!0;return Promise.resolve(function(e,t){void 0===t&&(t={});try{try{return Promise.resolve(zo[e.method](Co(e),t))}catch(n){throw console.error("execLocal({service, opts = {}})",n,{service:e,opts:t}),n}}catch(e){return Promise.reject(e)}}(Ro(t.local))).then((function(e){var r=e[1],o=function(){try{r(),n=!1}catch(e){console.error("Frame Close Error",e)}};return Lo(t.updates,(function(){return n})).then((function(e){return o(),e})).catch((function(e){throw console.error(e),o(),e}))}))}throw console.error("Auto Decline: Invalid Response",{service:e,resp:t}),new Error("Auto Decline: Invalid Response")}))}))}))}catch(e){return Promise.reject(e)}},Vo=function(e){return"string"==typeof e&&e.toLowerCase()},Yo=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),Xo=function(e,t){return console.warn("DEPRECATION NOTICE","Received "+e+", please use "+t+" for this and future versions of FCL")},Jo=function(e){var t=e.close,n=e.send,r=e.onReady,o=e.onResponse,i=e.onMessage;return function(e){try{if("object"!=typeof e.data)return;if(Yo.has(e.data.type))return;Vo(e.data.type)===Vo("FCL:VIEW:CLOSE")&&t(),Vo(e.data.type)===Vo("FCL:VIEW:READY")&&r(e,{send:n,close:t}),Vo(e.data.type)===Vo("FCL:VIEW:RESPONSE")&&o(e,{send:n,close:t}),i(e,{send:n,close:t}),Vo(e.data.type)===Vo("FCL:FRAME:READY")&&(Xo(e.data.type,"FCL:VIEW:READY"),r(e,{send:n,close:t})),Vo(e.data.type)===Vo("FCL:FRAME:RESPONSE")&&(Xo(e.data.type,"FCL:VIEW:RESPONSE"),o(e,{send:n,close:t})),Vo(e.data.type)===Vo("FCL:FRAME:CLOSE")&&(Xo(e.data.type,"FCL:VIEW:CLOSE"),t()),Vo(e.data.type)===Vo("FCL::CHALLENGE::RESPONSE")&&(Xo(e.data.type,"FCL:VIEW:RESPONSE"),o(e,{send:n,close:t})),Vo(e.data.type)===Vo("FCL::AUTHZ_READY")&&(Xo(e.data.type,"FCL:VIEW:READY"),r(e,{send:n,close:t})),Vo(e.data.type)===Vo("FCL::CHALLENGE::CANCEL")&&(Xo(e.data.type,"FCL:VIEW:CLOSE"),t()),Vo(e.data.type)===Vo("FCL::CANCEL")&&(Xo(e.data.type,"FCL:VIEW:CLOSE"),t())}catch(e){console.error("Frame Callback Error",e),t()}}},$o=function(){},Zo=function(){},Qo=function(){},ei=function(){},ti=function e(t){var n=t.service,r=t.msg,i=void 0===r?{}:r,a=t.opts,s=void 0===a?{}:a;try{return Promise.resolve(function(t,r){try{var a=Promise.resolve(ni[n.method](n,i,s)).then((function(t){return"REDIRECT"===t.status?((0,o.k)(n.type===t.data.type,"Cannot shift recursive service type in execService"),n=t.data,Promise.resolve(e({service:n,msg:i,opts:s}))):t}))}catch(e){return r(e)}return a&&a.then?a.then(void 0,r):a}(0,(function(e){throw console.error("execService({service, msg = {}, opts = {}})",e,{service:n,msg:i,opts:s}),e})))}catch(e){return Promise.reject(e)}},ni={"HTTP/RPC":Ko,"HTTP/POST":Ko,"IFRAME/RPC":function(e,t,n){return new Promise((function(r,o){var i,a=ro(),s=n.includeOlderJsonRpcCall;t.data=null!=(i=e.data)?i:null,function(e,t){if(void 0===t&&(t={}),null==e)return{send:$o,close:$o};var n=t.onClose||$o;window.addEventListener("message",Jo({close:a,send:s,onReady:t.onReady||$o,onResponse:t.onResponse||$o,onMessage:t.onMessage||$o}));var r=Mo(Co(e)),o=r[0],i=r[1];return{send:s,close:a};function a(){try{window.removeEventListener("message",Jo),i(),n()}catch(e){console.error("Frame Close Error",e)}}function s(e){try{o.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Frame Send Error",e,t)}}}(e,{onReady:function(n,r){var o=r.send;try{return Promise.resolve(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){var n={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(r){return Promise.resolve(io(/^app\.detail\./)).then((function(i){o({fclVersion:ao,type:"FCL:VIEW:READY:RESPONSE",body:t,service:n,config:{services:r,app:i}});var u={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(n){return Promise.resolve(io(/^app\.detail\./)).then((function(r){o({fclVersion:ao,type:"FCL:FRAME:READY:RESPONSE",body:t,service:u,config:{services:n,app:r},deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),s&&o({jsonrpc:"2.0",id:a,method:"fcl:sign",params:[t,e.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}})}))}))}))}))}),(function(e){throw e})))}catch(e){return Promise.reject(e)}},onResponse:function(e,t){var n=t.close;try{if("object"!=typeof e.data)return;var i=Oo(e.data);switch(i.status){case"APPROVED":r(i.data),n();break;case"DECLINED":o("Declined: "+(i.reason||"No reason supplied")),n();break;case"REDIRECT":r(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execIframeRPC onResponse error",e),e}},onMessage:function(e,t){var n=t.close;try{if("object"!=typeof e.data)return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==a)return;var i=Oo(e.data.result);switch(i.status){case"APPROVED":r(i.data),n();break;case"DECLINED":o("Declined: "+(i.reason||"No reason supplied")),n();break;case"REDIRECT":r(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execIframeRPC onMessage error",e),e}},onClose:function(){o("Declined: Externally Halted")}})}))},"POP/RPC":function(e,t,n){return new Promise((function(r,o){var i=ro(),a=n.redir,s=n.includeOlderJsonRpcCall;t.data=e.data,function(e,t){if(void 0===t&&(t={}),null==e)return{send:Zo,close:Zo};var n=t.onClose||Zo;window.addEventListener("message",Jo({close:a,send:s,onReady:t.onReady||Zo,onResponse:t.onResponse||Zo,onMessage:t.onMessage||Zo}));var r=Fo(Co(e)),o=r[0],i=r[1];return{send:s,close:a};function a(){try{window.removeEventListener("message",Jo),i(),n()}catch(e){console.error("Popup Close Error",e)}}function s(e){try{o.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Popup Send Error",e,t)}}}(e,{onReady:function(n,r){var o=r.send;try{return Promise.resolve(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){var n={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(r){return Promise.resolve(io(/^app\.detail\./)).then((function(a){o({fclVersion:ao,type:"FCL:VIEW:READY:RESPONSE",body:t,service:n,config:{services:r,app:a}});var u={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(n){return Promise.resolve(io(/^app\.detail\./)).then((function(r){o({fclVersion:ao,type:"FCL:FRAME:READY:RESPONSE",body:t,service:u,config:{services:n,app:r},deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),s&&o({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[t,e.params]})}))}))}))}))}),(function(e){throw e})))}catch(e){return Promise.reject(e)}},onResponse:function(e,t){var n=t.close;try{if("object"!=typeof e.data)return;var i=Oo(e.data);switch(i.status){case"APPROVED":r(i.data),!a&&n();break;case"DECLINED":o("Declined: "+(i.reason||"No reason supplied")),n();break;case"REDIRECT":r(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onResponse error",e),e}},onMessage:function(e,t){var n=t.close;try{if("object"!=typeof e.data)return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==i)return;var s=Oo(e.data.result);switch(s.status){case"APPROVED":r(s.data),!a&&n();break;case"DECLINED":o("Declined: "+(s.reason||"No reason supplied")),n();break;case"REDIRECT":r(s),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onMessage error",e),e}},onClose:function(){o("Declined: Externally Halted")}})}))},"TAB/RPC":function(e,t,n){return new Promise((function(r,o){var i=ro(),a=n.redir,s=n.includeOlderJsonRpcCall;t.data=e.data,function(e,t){if(void 0===t&&(t={}),null==e)return{send:Qo,close:Qo};var n=t.onClose||Qo;window.addEventListener("message",Jo({close:a,send:s,onReady:t.onReady||Qo,onResponse:t.onResponse||Qo,onMessage:t.onMessage||Qo}));var r=qo(Co(e)),o=r[0],i=r[1];return{send:s,close:a};function a(){try{window.removeEventListener("message",Jo),i(),n()}catch(e){console.error("Tab Close Error",e)}}function s(e){try{o.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Tab Send Error",e,t)}}}(e,{onReady:function(n,r){var o=r.send;try{return Promise.resolve(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){var n={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(r){return Promise.resolve(io(/^app\.detail\./)).then((function(a){o({fclVersion:ao,type:"FCL:VIEW:READY:RESPONSE",body:t,service:n,config:{services:r,app:a}});var u={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(n){return Promise.resolve(io(/^app\.detail\./)).then((function(r){o({fclVersion:ao,type:"FCL:FRAME:READY:RESPONSE",body:t,service:u,config:{services:n,app:r},deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),s&&o({jsonrpc:"2.0",id:i,method:"fcl:sign",params:[t,e.params]})}))}))}))}))}),(function(e){throw e})))}catch(e){return Promise.reject(e)}},onResponse:function(e,t){var n=t.close;try{if("object"!=typeof e.data)return;var i=Oo(e.data);switch(i.status){case"APPROVED":r(i.data),!a&&n();break;case"DECLINED":o("Declined: "+(i.reason||"No reason supplied")),n();break;case"REDIRECT":r(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onResponse error",e),e}},onMessage:function(e,t){var n=t.close;try{if("object"!=typeof e.data)return;if("2.0"!==e.data.jsonrpc)return;if(e.data.id!==i)return;var s=Oo(e.data.result);switch(s.status){case"APPROVED":r(s.data),!a&&n();break;case"DECLINED":o("Declined: "+(s.reason||"No reason supplied")),n();break;case"REDIRECT":r(s),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onMessage error",e),e}},onClose:function(){o("Declined: Externally Halted")}})}))},"EXT/RPC":function(e,t,n){return new Promise((function(n,r){!function(e,t){void 0===t&&(t={});try{var n,r=function(){try{window.removeEventListener("message",Jo),a()}catch(e){console.error("Extension Close Error",e)}},o=function(e){try{var t;null==(t=window[i])||t.flow.send(JSON.parse(JSON.stringify(e||{})))}catch(t){console.error("Extension Send Error",e,t)}};if(null==e)return Promise.resolve({send:ei,close:ei});var i=e.endpoint,a=t.onClose||ei;window.addEventListener("message",Jo({close:r,send:o,onReady:t.onReady||ei,onResponse:t.onResponse||ei,onMessage:t.onMessage||ei})),Promise.resolve(null==(n=window[i])?void 0:n.flow.enable()).then((function(){return{send:o,close:r}}))}catch(e){return Promise.reject(e)}}(e,{onReady:function(n,r){var o=r.send;try{return Promise.resolve(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){var n={params:e.params,data:e.data,type:e.type};return Promise.resolve(io(/^service\./)).then((function(e){return Promise.resolve(io(/^app\.detail\./)).then((function(r){o({fclVersion:ao,type:"FCL:VIEW:READY:RESPONSE",body:t,service:n,config:{services:e,app:r}})}))}))}),(function(e){throw e})))}catch(e){return Promise.reject(e)}},onResponse:function(e,t){var o=t.close;try{if("object"!=typeof e.data)return;var i=Oo(e.data);switch(i.status){case"APPROVED":n(i.data),o();break;case"DECLINED":r("Declined: "+(i.reason||"No reason supplied")),o();break;case"REDIRECT":n(i),o();break;default:r("Declined: No reason supplied"),o()}}catch(e){throw console.error("execExtRPC onResponse error",e),e}},onClose:function(){r("Declined: Externally Halted")}})}))}},ri=function(e,t){try{(0,o.k)(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),(0,o.k)(Array.isArray(t),"Must include an Array of composite signatures");var n=[],r=[],i=[];return Promise.resolve(Promise.all(t.map((function(e){try{return(0,o.k)("string"==typeof e.addr,"addr must be a string"),(0,o.k)("number"==typeof e.keyId,"keyId must be a number"),(0,o.k)("string"==typeof e.signature,"signature must be a string"),Promise.resolve(function(t,o){try{var a=Promise.resolve(On(e.addr)).then((function(t){return n.push(t.keys[e.keyId].weight.toFixed(1)),r.push(t.keys[e.keyId].signAlgo),i.push(e.signature),t.keys[e.keyId].publicKey}))}catch(e){return o(e)}return a&&a.then?a.then(void 0,o):a}(0,(function(e){throw e})))}catch(e){return Promise.reject(e)}})))).then((function(t){return Promise.resolve(vo({cadence:""+oi,args:function(o,a){return[o(e,a.String),o(t,a.Array([a.String])),o(n,a.Array(a.UFix64)),o(r,a.Array([a.UInt])),o(i,a.Array([a.String]))]}}))}))}catch(e){return Promise.reject(e)}},oi="\nimport Crypto\n    \npub fun main(\n  message: String,\n  rawPublicKeys: [String],\n  weights: [UFix64],\n  signAlgos: [UInt],\n  signatures: [String],\n): Bool {\n\n  let keyList = Crypto.KeyList()\n  \n  var i = 0\n  for rawPublicKey in rawPublicKeys {\n    keyList.add(\n      PublicKey(\n        publicKey: rawPublicKey.decodeHex(),\n        signatureAlgorithm: signAlgos[i] == 2 ? SignatureAlgorithm.ECDSA_P256 : SignatureAlgorithm.ECDSA_secp256k1 \n      ),\n      hashAlgorithm: HashAlgorithm.SHA3_256,\n      weight: weights[i],\n    )\n    i = i + 1\n  }\n\n  let signatureSet: [Crypto.KeyListSignature] = []\n\n  var j = 0\n  for signature in signatures {\n    signatureSet.append(\n      Crypto.KeyListSignature(\n        keyIndex: j,\n        signature: signature.decodeHex()\n      )\n    )\n    j = j + 1\n  }\n    \n  let signedData = message.decodeHex()\n  \n  return keyList.verify(\n    signatureSet: signatureSet,\n    signedData: signedData\n  )\n}\n";function ii(e){return null==e?null:"1.0.0"===e.f_vsn?e:go({},Io,{addr:I(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId})}function ai(e,t,n){if(!e.s){if(n instanceof li){if(!n.s)return void(n.o=ai.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(ai.bind(null,e,t),ai.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var si=function(e,t){try{return console.warn("\n    %cFCL/SDK Deprecation Notice\n    ============================\n    verifyUserSignatures is no longer exported as fcl.currentUser().verifyUserSignatures\n    and is now available as fcl.verifyUserSignatures\n    ============================\n    ","font-weight:bold;font-family:monospace;"),Promise.resolve(ri(e,t))}catch(e){return Promise.reject(e)}},ui=function(e){try{return wi(),Promise.resolve(hi({redir:!0})).then((function(t){var n=To(t.services,"user-signature");return(0,o.k)(n,"Current user must have authorized a signing service."),pi((function(){return Promise.resolve(ti({service:n,msg:_i(e)})).then((function(e){return Array.isArray(e)?e.map((function(e){return ii(e)})):[ii(e)]}))}),(function(e){return e}))}))}catch(e){return Promise.reject(e)}},ci=function(){try{return Promise.resolve(hi()).then((function(e){return Jn(P(e.addr),Kr)}))}catch(u){return Promise.reject(u)}},fi=function(e){try{return wi(),Promise.resolve(hi({redir:!0})).then((function(t){var n=To(t.services,"authz"),r=To(t.services,"pre-authz");return go({},e,r?{tempId:"CURRENT_USER",resolve:function(e,t){try{return Promise.resolve(ti({service:r,msg:t})).then(Ii)}catch(e){return Promise.reject(e)}}}:{tempId:"CURRENT_USER",resolve:null,addr:I(n.identity.address),keyId:n.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(e){try{return Promise.resolve(ti({service:n,msg:e,opts:{includeOlderJsonRpcCall:!0}})).then(ii)}catch(e){return Promise.reject(e)}}})}))}catch(e){return Promise.reject(e)}},li=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var i=1&o?t:n;if(i){try{ai(r,1,i(this.v))}catch(e){ai(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?ai(r,1,t?t(o):o):n?ai(r,1,n(o)):ai(r,2,o)}catch(e){ai(r,2,e)}},r},e}();function di(e){return e instanceof li&&1&e.s}var hi=function(e){void 0===e&&(e={redir:!1});try{return Promise.resolve(new Promise((function(t,n){try{return wi(),Promise.resolve(ki()).then((function(n){return n.loggedIn&&Ei(n)?t(n):Promise.resolve(function(){try{return Promise.resolve($e.first(["discovery.wallet","challenge.handshake"])).then((function(e){return Promise.resolve($e.first(["discovery.wallet.method","discovery.wallet.method.default"])).then((function(t){return Promise.resolve($e.first(["fcl.appDomainTag","fcl.appDomainTag.default"])).then((function(n){return(0,o.k)(null!=e,'\n      Required value for discovery.wallet not defined in config.\n      See: "https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"\n    '),{discoveryWallet:e,discoveryWalletMethod:t,appDomainTag:n}}))}))}))}catch(e){return Promise.reject(e)}}()).then((function(n){var r=n.discoveryWallet,o=n.discoveryWalletMethod,i=n.appDomainTag;return Promise.resolve($e.get("fcl.warning.suppress.redir")).then((function(n){e.redir&&!n&&console.warn("You are manually enabling a very experimental feature that is not yet standard, use at your own risk.\n         You can disable this warning by setting fcl.warning.suppress.redir to true in your config");var a=function(t,n){try{var a=pi((function(){return Promise.resolve(ti({service:{type:"authn",endpoint:r,method:o},msg:{timestamp:Date.now(),appDomainTag:i,extensions:window.fcl_extensions||[]},opts:e})).then((function(e){return Promise.resolve(function(e){try{var t=(e=function(e){return e.addr=e.addr?P(e.addr):null,e.paddr=e.paddr?P(e.paddr):null,e}(e)).services||[];return Promise.resolve(function(e,t){try{if(null==e||null==t)return Promise.resolve([]);var n=new URL(e);return n.searchParams.append("code",t),Promise.resolve(fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))).then((function(e){if(Array.isArray(e))return e;var t=[];if(Array.isArray(e.authorizations))for(var n,r=mo(e.authorizations);!(n=r()).done;)t.push(go({type:"authz",keyId:e.keyId},n.value));return null!=e.provider&&t.push(go({type:"authn",id:"wallet-provider#authn"},e.provider)),t}))}catch(e){return Promise.reject(e)}}(e.hks,e.code)).then((function(n){var r,o,i=(r=t,o=n,void 0===r&&(r=[]),void 0===o&&(o=[]),[].concat(r,o)).map((function(t){return function(e,t){try{return _o[e.type](e,t)}catch(t){return console.error("Unrecognized FCL Service Type ["+e.type+"]",e,t),e}}(t,e)})),a=function(e,t){return t.find((function(e){return"authn"===e.type}))}(0,i);return go({},Eo,{addr:P(e.addr),cid:Ao(a),loggedIn:!0,services:i,expiresAt:e.exp})}))}catch(e){return Promise.reject(e)}}(e)).then((function(e){b(vi,yi,e)}))}))}),(function(e){console.error("Error while authenticating",e)}))}catch(e){return n(!0,e)}return a&&a.then?a.then(n.bind(null,!1),n.bind(null,!0)):n(!1,a)}(0,(function(e,n){return Promise.resolve(ki()).then((function(r){if(t(r),e)throw n;return n}))}));if(a&&a.then)return a.then((function(){}))}))}))}))}catch(e){return Promise.reject(e)}})))}catch(e){return Promise.reject(e)}};function pi(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var vi="CURRENT_USER",gi="CURRENT_USER/UPDATED",yi="SET_CURRENT_USER",mi='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',bi=((Wo={})[h]=function(e){try{return"undefined"==typeof window&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),e.merge(JSON.parse(mi)),Promise.resolve($e.first(["fcl.storage","fcl.storage.default"])).then((function(t){var n=function(){if(t.can)return Promise.resolve(function(e){try{var t=JSON.parse(mi);return Promise.resolve(e.get(vi)).then((function(n){return null!=n&&t.f_vsn!==n.f_vsn?(e.removeItem(vi),t):n||t}))}catch(e){return Promise.reject(e)}}(t)).then((function(t){Ei(t)&&e.merge(t)}))}();if(n&&n.then)return n.then((function(){}))}))}catch(e){return Promise.reject(e)}},Wo[p]=function(e,t){e.subscribe(t.from),e.send(t.from,gi,go({},e.all()))},Wo[v]=function(e,t){e.unsubscribe(t.from)},Wo.SNAPSHOT=function(e,t){try{return t.reply(go({},e.all())),Promise.resolve()}catch(e){return Promise.reject(e)}},Wo[yi]=function(e,t,n){try{return e.merge(n),Promise.resolve($e.first(["fcl.storage","fcl.storage.default"])).then((function(t){t.can&&t.put(vi,e.all()),e.broadcast(gi,go({},e.all()))}))}catch(e){return Promise.reject(e)}},Wo.DEL_CURRENT_USER=function(e,t){try{return e.merge(JSON.parse(mi)),Promise.resolve($e.first(["fcl.storage","fcl.storage.default"])).then((function(t){t.can&&t.put(vi,e.all()),e.broadcast(gi,go({},e.all()))}))}catch(e){return Promise.reject(e)}},Wo),wi=function(){return w(bi,vi)};function Ei(e){return null==e.expiresAt||0===e.expiresAt||e.expiresAt>Date.now()}function Si(){wi(),b(vi,"DEL_CURRENT_USER")}function Ii(e){var t=function(e){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]}}(e),n=[];null!=t.proposer&&n.push(["PROPOSER",t.proposer]);for(var r,o=mo(t.payer||[]);!(r=o()).done;)n.push(["PAYER",r.value]);for(var i,a=mo(t.authorization||[]);!(i=a()).done;)n.push(["AUTHORIZER",i.value]);return n.map((function(e){var t=e[0],n=e[1];return{tempId:[n.identity.address,n.identity.keyId].join("|"),addr:n.identity.address,keyId:n.identity.keyId,signingFunction:function(e){return ti({service:n,msg:e})},role:{proposer:"PROPOSER"===t,payer:"PAYER"===t,authorizer:"AUTHORIZER"===t}}}))}function Pi(e){wi();var t="@EXIT",n=w((function(n){try{var r;return n.send(vi,p),Promise.resolve(function(e,t,n){for(var r;;){var o=e();if(di(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!di(i)){r=1;break}i=i.s}}var a=new li,s=ai.bind(null,a,2);return(0===r?o.then(c):1===r?i.then(u):(void 0).then((function(){(o=e())?o.then?o.then(c).then(void 0,s):c(o):ai(a,1,i)}))).then(void 0,s),a;function u(t){i=t;do{if(!(o=e())||di(o)&&!o.v)return void ai(a,1,i);if(o.then)return void o.then(c).then(void 0,s);di(i=n())&&(i=i.v)}while(!i||!i.then);i.then(u).then(void 0,s)}function c(e){e?(i=n())&&i.then?i.then(u).then(void 0,s):u(i):ai(a,1,i)}}((function(){return!r&&1}),0,(function(){return Promise.resolve(n.receive()).then((function(o){if(o.tag===t)return n.send(vi,v),void(r=1);e(o.data)}))})))}catch(e){return Promise.reject(e)}}));return function(){return b(n,t)}}function ki(){return wi(),b(vi,"SNAPSHOT",null,{expectReply:!0,timeout:0})}var Ri,_i=function(e){return(0,o.k)(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),{message:e}},Ai=function(){return{authenticate:hi,unauthenticate:Si,authorization:fi,signUserMessage:ui,verifyUserSignatures:si,subscribe:Pi,snapshot:ki,resolveArgument:ci}};Ai.authenticate=hi,Ai.unauthenticate=Si,Ai.authorization=fi,Ai.signUserMessage=ui,Ai.verifyUserSignatures=si,Ai.subscribe=Pi,Ai.snapshot=ki,Ai.resolveArgument=ci;var Ti=function(e){try{return Promise.resolve(An([Kn(e)]).then(Tn))}catch(e){return Promise.reject(e)}},Ci=function(e){return e.status>=4},xi=function(e){return e.status>=3},Oi=function(e){return e.status>=2},Li=((Ri={})[h]=function(e){try{return Promise.resolve(Ti(e.self())).then((function(t){Ci(t)||setTimeout((function(){return e.sendSelf("POLL")}),2500),e.merge(t)}))}catch(e){return Promise.reject(e)}},Ri[p]=function(e,t){e.subscribe(t.from),e.send(t.from,g,e.all())},Ri[v]=function(e,t){e.unsubscribe(t.from)},Ri.SNAPSHOT=function(e,t){try{return t.reply(e.all()),Promise.resolve()}catch(e){return Promise.reject(e)}},Ri.POLL=function(e){try{return Promise.resolve(Ti(e.self())).then((function(t){var n,r;Ci(t)||setTimeout((function(){return e.sendSelf("POLL")}),2500),n=e.all(),r=t,JSON.stringify(n)!==JSON.stringify(r)&&e.broadcast(g,t),e.merge(t)}))}catch(e){return Promise.reject(e)}},Ri),ji=function(e){if("object"==typeof e&&(e=e.transactionId),null==e)throw new Error("transactionId required");return e},Ni=function(e){return w(Li,ji(e))};function Ui(e){function t(t){return E(ji(e),Ni,t)}function n(e){return function(n){void 0===n&&(n={});var r=n.suppress||!1;return new Promise((function(n,o){var i=t((function(t){t.statusCode&&!r?(o(t.errorMessage),i()):e(t)&&(n(t),i())}))}))}}return{snapshot:function(){return function(e,t){return t(e),b(e,"SNAPSHOT",null,{expectReply:!0,timeout:0})}(e,Ni)},subscribe:t,onceFinalized:n(Oi),onceExecuted:n(xi),onceSealed:n(Ci)}}Ui.isUnknown=function(e){return e.status>=0},Ui.isPending=function(e){return e.status>=1},Ui.isFinalized=Oi,Ui.isExecuted=xi,Ui.isSealed=Ci,Ui.isExpired=function(e){return 5===e.status};var Mi,Di=function(e){void 0===e&&(e={});try{return Promise.resolve(function(t,n){try{var r=Promise.resolve(function(e){try{return(0,o.k)(uo(e),"mutate(opts) -- opts is required"),(0,o.k)(co(e),"mutate(opts) -- opts must be an object"),(0,o.k)(uo(e.cadence),"mutate({ cadence }) -- cadence is required"),(0,o.k)(fo(e.cadence),"mutate({ cadence }) -- cadence must be a string"),Promise.resolve($e.get("accessNode.api")).then((function(e){(0,o.k)(e,'Required value for "accessNode.api" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration')}))}catch(u){return Promise.reject(u)}}(e)).then((function(){return Promise.resolve($e().get("fcl.authz",Ai().authorization)).then((function(t){return An([rr(e.cadence),Xn(po(e.args||[])),e.limit&&ho(e.limit)&&Yn(e.limit),$n(e.proposer||e.authz||t),Zn(e.payer||e.authz||t),Ln(e.authorizations||[e.authz||t])]).then(Tn)}))}))}catch(u){return n(u)}return r&&r.then?r.then(void 0,n):r}(0,(function(e){throw e})))}catch(u){return Promise.reject(u)}},Bi=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});try{return Promise.resolve($e.first(["sdk.resolve"],t.resolve||_n)).then((function(t){function n(){return Promise.resolve(t(e)).then((function(e){return JSON.stringify(Ht(e),null,2)}))}var r=function(){if(Array.isArray(e))return Promise.resolve(xe(q(),e)).then((function(t){e=t}))}();return r&&r.then?r.then(n):n()}))}catch(e){return Promise.reject(e)}},Fi=function(e){try{var t=setTimeout;return Promise.resolve($e().get("fcl.eventPollRate",1e4)).then((function(n){return t((function(){return e.sendSelf("TICK")}),n)}))}catch(e){return Promise.reject(e)}},Hi=((Mi={}).TICK=function(e){try{if(!e.hasSubs())return Promise.resolve();var t=e.get("hwm"),n=function(){if(null==t){var n=e.put;return Promise.resolve(xn()).then((function(t){n.call(e,"hwm",t);var r=e.put;return Promise.resolve(Fi(e)).then((function(t){r.call(e,"tick",t)}))}))}return Promise.resolve(xn()).then((function(n){return e.put("hwm",n),Promise.resolve(An([getEvents(e.self(),t.height,n.height-1)]).then(Tn)).then((function(t){for(var n,r=mo(t);!(n=r()).done;)e.broadcast("UPDATED",n.value.data);var o=e.put;return Promise.resolve(Fi(e)).then((function(t){o.call(e,"tick",t)}))}))}))}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},Mi[p]=function(e,t){try{var n=function(){e.subscribe(t.from)},r=function(){if(!e.hasSubs()){var t=e.put;return Promise.resolve(Fi(e)).then((function(n){t.call(e,"tick",n)}))}}();return Promise.resolve(r&&r.then?r.then(n):n())}catch(e){return Promise.reject(e)}},Mi[v]=function(e,t){e.unsubscribe(t.from),e.hasSubs()||(clearTimeout(e.get("tick")),e.delete("tick"),e.delete("hwm"))},Mi),Gi=function(e){return w(Hi,e)};function qi(e){return{subscribe:function(t){return E(e,Gi,t)}}}var Wi=function(e,t){void 0===t&&(t=function(){});var n=function(n){var r=n.data;"object"==typeof r&&null!=typeof r&&r.type===e&&t(function(e){var t;return e.deprecated&&console.warn("DEPRECATION NOTICE",e.deprecated.message),null==e||null==(t=e.body)||delete t.interaction,e}(r))};return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}},zi=function(e,t){void 0===t&&(t={}),window.location!==window.parent.location?window.parent.postMessage(go({},t,{type:e}),"*"):window.opener.postMessage(go({},t,{type:e}),"*")},Ki=function(e,t){return oo.from(e.padEnd(2*t,0),"hex")},Vi={__proto__:null,sendMsgToFCL:zi,ready:function(e,t){Wi("FCL:VIEW:READY:RESPONSE",e),zi("FCL:VIEW:READY")},close:function(){zi("FCL:VIEW:CLOSE")},approve:function(e){zi("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:e})},decline:function(e){zi("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:e,data:null})},redirect:function(e){zi("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:e})},onMessageFromFCL:Wi,encodeMessageFromSignable:function(e,t){var n,r,o=(n=e.voucher,(r=new Set(n.authorizers)).add(n.proposalKey.address),r.delete(n.payer),Array.from(r).map(P)),i=function(e){var t=new Set([e.payer]);return Array.from(t).map(P)}(e.voucher),a=o.includes(P(t)),s=i.includes(P(t));if(!a&&!s)throw new Cn(t);var u={cadence:e.voucher.cadence,refBlock:e.voucher.refBlock,computeLimit:e.voucher.computeLimit,arguments:e.voucher.arguments,proposalKey:L({},e.voucher.proposalKey,{address:I(e.voucher.proposalKey.address)}),payer:I(e.voucher.payer),authorizers:e.voucher.authorizers.map(I),payloadSigs:e.voucher.payloadSigs.map((function(e){return L({},e,{address:I(e.address)})}))};return a?Xt(u):Jt(u)},CompositeSignature:function(e,t,n){this.f_type=Io.f_type,this.f_vsn=Io.f_vsn,this.addr=P(e),this.keyId=Number(t),this.signature=n},encodeMessageForProvableAuthnSigning:function(e,t,n){void 0===n&&(n=""),(0,o.k)(e,"Encode Message From Provable Authn Error: address must be defined"),(0,o.k)(t,"Encode Message From Provable Authn Error: timestamp must be defined");var r=Ki(oo.from("FLOW-V0.0-user").toString("hex"),32).toString("hex"),i=Ki(oo.from(n).toString("hex"),32).toString("hex");return r+(n?(0,A.cv)([i,P(e),t]).toString("hex"):(0,A.cv)([P(e),t]).toString("hex"))},encodeMessageForProvableAuthnVerifying:function(e,t,n){void 0===n&&(n=""),(0,o.k)(e,"Encode Message From Provable Authn Error: address must be defined"),(0,o.k)(t,"Encode Message From Provable Authn Error: timestamp must be defined");var r,i=n?(r=oo.from(n).toString("hex"),oo.from(r.padEnd(64,0),"hex")).toString("hex"):null;return n?(0,A.cv)([i,P(e),t]).toString("hex"):(0,A.cv)([P(e),t]).toString("hex")},injectExtService:function(e){"authn"===e.type&&null!=e.endpoint?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(e)):console.warn("Authn service is required")}},Yi=function(){return Ai().authenticate()},Xi=function(){return Ai().unauthenticate()},Ji=function(){return Ai().unauthenticate(),Ai().authenticate()},$i=function(){return Ai().authenticate()},Zi=function(){return Ai().authenticate()},Qi=Ai().authorization,ea=r},3026:function(e,t,n){"use strict";n.d(t,{cv:function(){return o}});var r=n(8764).Buffer;function o(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(o(e[n]));var a=r.concat(t);return r.concat([i(a.length,192),a])}var s=u(e);return 1===s.length&&s[0]<128?s:r.concat([i(s.length,128),s])}function i(e,t){if(e<56)return r.from([e+t]);var n=s(e),o=s(t+55+n.length/2);return r.from(o+n,"hex")}function a(e){return"0x"===e.slice(0,2)}function s(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function u(e){if(!r.isBuffer(e)){if("string"==typeof e)return a(e)?r.from((n="string"!=typeof(o=e)?o:a(o)?o.slice(2):o).length%2?"0"+n:n,"hex"):r.from(e);if("number"==typeof e)return e?(t=s(e),r.from(t,"hex")):r.from([]);if(null==e)return r.from([]);if(e instanceof Uint8Array)return r.from(e);throw new Error("invalid type")}var t,n,o;return e}},6060:function(e,t,n){"use strict";n.r(t),n.d(t,{Address:function(){return U},Array:function(){return F},Bool:function(){return N},Character:function(){return j},Dictionary:function(){return H},Event:function(){return G},Fix64:function(){return O},Identity:function(){return l},Int:function(){return h},Int128:function(){return I},Int16:function(){return y},Int256:function(){return k},Int32:function(){return b},Int64:function(){return E},Int8:function(){return v},Optional:function(){return D},Reference:function(){return B},Resource:function(){return q},String:function(){return L},Struct:function(){return W},UFix64:function(){return x},UInt:function(){return d},UInt128:function(){return S},UInt16:function(){return g},UInt256:function(){return P},UInt32:function(){return m},UInt64:function(){return w},UInt8:function(){return p},Void:function(){return M},Word16:function(){return _},Word32:function(){return A},Word64:function(){return T},Word8:function(){return R},_Array:function(){return F}});var r=function(e,t,n){return{label:e,asArgument:t,asInjection:n}},o=function(e){return Array.isArray(e)},i=function(e){return"object"==typeof e},a=function(e){return null==e},s=function(e){return"number"==typeof e},u=function(e){return Number.isInteger(e)},c=function(e){return"string"==typeof e},f=function(e){throw new Error("Type Error: "+e)},l=r("Identity",(function(e){return e}),(function(e){return e})),d=r("UInt",(function(e){if(s(e)&&u(e))return{type:"UInt",value:e.toString()};f("Expected Positive Integer for type Unsigned Int")}),(function(e){return e})),h=r("Int",(function(e){if(s(e)&&u(e))return{type:"Int",value:e.toString()};f("Expected Integer for type Int")}),(function(e){return e})),p=r("UInt8",(function(e){if(s(e)&&u(e))return{type:"UInt8",value:e.toString()};f("Expected integer for UInt8")}),(function(e){return e})),v=r("Int8",(function(e){if(s(e)&&u(e))return{type:"Int8",value:e.toString()};f("Expected positive integer for Int8")}),(function(e){return e})),g=r("UInt16",(function(e){if(s(e)&&u(e))return{type:"UInt16",value:e.toString()};f("Expected integer for UInt16")}),(function(e){return e})),y=r("Int16",(function(e){if(s(e)&&u(e))return{type:"Int16",value:e.toString()};f("Expected positive integer for Int16")}),(function(e){return e})),m=r("UInt32",(function(e){if(s(e)&&u(e))return{type:"UInt32",value:e.toString()};f("Expected integer for UInt32")}),(function(e){return e})),b=r("Int32",(function(e){if(s(e)&&u(e))return{type:"Int32",value:e.toString()};f("Expected positive integer for Int32")}),(function(e){return e})),w=r("UInt64",(function(e){if(s(e)&&u(e))return{type:"UInt64",value:e.toString()};f("Expected integer for UInt64")}),(function(e){return e})),E=r("Int64",(function(e){if(s(e)&&u(e))return{type:"Int64",value:e.toString()};f("Expected positive integer for Int64")}),(function(e){return e})),S=r("UInt128",(function(e){if(s(e)&&u(e))return{type:"UInt128",value:e.toString()};f("Expected integer for UInt128")}),(function(e){return e})),I=r("Int128",(function(e){if(s(e)&&u(e))return{type:"Int128",value:e.toString()};f("Expected positive integer for Int128")}),(function(e){return e})),P=r("UInt256",(function(e){if(s(e)&&u(e))return{type:"UInt256",value:e.toString()};f("Expected integer for UInt256")}),(function(e){return e})),k=r("Int256",(function(e){if(s(e)&&u(e))return{type:"Int256",value:e.toString()};f("Expected integer for Int256")}),(function(e){return e})),R=r("Word8",(function(e){if(s(e)&&u(e))return{type:"Word8",value:e.toString()};f("Expected positive number for Word8")}),(function(e){return e})),_=r("Word16",(function(e){if(s(e)&&u(e))return{type:"Word16",value:e.toString()};f("Expected positive number for Word16")}),(function(e){return e})),A=r("Word32",(function(e){if(s(e)&&u(e))return{type:"Word32",value:e.toString()};f("Expected positive number for Word32")}),(function(e){return e})),T=r("Word64",(function(e){if(s(e)&&u(e))return{type:"Word64",value:e.toString()};f("Expected positive number for Word64")}),(function(e){return e})),C=function(){console.error("\n          %c@onflow/types Deprecation Notice\n          ========================\n\n          Passing in Numbers as values for Fix64 and UFix64 types is deprecated and will cease to work in future releases of @onflow/types.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number\n\n          =======================\n        ".replace(/\n\s+/g,"\n").trim(),"font-weight:bold;font-family:monospace;")},x=r("UFix64",(function(e){return c(e)?{type:"UFix64",value:e}:s(e)?(C(),{type:"UFix64",value:e.toString()}):void f("Expected String for UFix64")}),(function(e){return e})),O=r("Fix64",(function(e){return c(e)?{type:"Fix64",value:e}:s(e)?(C(),{type:"Fix64",value:e.toString()}):void f("Expected String for Fix64")}),(function(e){return e})),L=r("String",(function(e){if(c(e))return{type:"String",value:e};f("Expected String for type String")}),(function(e){return e})),j=r("Character",(function(e){if(c(e))return{type:"Character",value:e};f("Expected Character for type Character")}),(function(e){return e})),N=r("Bool",(function(e){if("boolean"==typeof e)return{type:"Bool",value:e};f("Expected Boolean for type Bool")}),(function(e){return e})),U=r("Address",(function(e){if(c(e))return{type:"Address",value:e};f("Expected Address for type Address")}),(function(e){return e})),M=r("Void",(function(e){if(!e||a(e))return{type:"Void"};f("Expected Void for type Void")}),(function(e){return e})),D=function(e){return r("Optional",(function(t){return{type:"Optional",value:a(t)?null:e.asArgument(t)}}),(function(e){return e}))},B=r("Reference",(function(e){if(i(e))return{type:"Reference",value:e};f("Expected Object for type Reference")}),(function(e){return e})),F=function(e){return void 0===e&&(e=[]),r("Array",(function(t){return{type:"Array",value:o(e)?e.map((function(e,n){return e.asArgument(t[n])})):t.map((function(t){return e.asArgument(t)}))}}),(function(e){return e}))},H=function(e){return void 0===e&&(e=[]),r("Dictionary",(function(t){if(i(t))return{type:"Dictionary",value:o(e)?e.map((function(e,n){return{key:e.key.asArgument(t[n].key),value:e.value.asArgument(t[n].value)}})):o(t)?t.map((function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}})):[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]};f("Expected Object for type Dictionary")}),(function(e){return e}))},G=function(e,t){return void 0===t&&(t=[]),r("Event",(function(n){if(i(n))return{type:"Event",value:{id:e,fields:o(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};f("Expected Object for type Event")}),(function(e){return e}))},q=function(e,t){return void 0===t&&(t=[]),r("Resource",(function(n){if(i(n))return{type:"Resource",value:{id:e,fields:o(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};f("Expected Object for type Resource")}),(function(e){return e}))},W=function(e,t){return void 0===t&&(t=[]),r("Struct",(function(n){if(i(n))return{type:"Struct",value:{id:e,fields:o(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};f("Expected Object for type Struct")}),(function(e){return e}))}},8622:function(e,t,n){"use strict";function r(e,t){if(!e){var n,r=new Error("INVARIANT "+t);throw r.stack=r.stack.split("\n").filter((function(e){return!/at invariant/.test(e)})).join("\n"),(n=console).error.apply(n,["\n\n---\n\n",r,"\n\n"].concat([].slice.call(arguments,2),["\n\n---\n\n"])),r}}n.d(t,{k:function(){return r}})},9742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),f=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[f++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:function(e,t,n){"use strict";var r=n(9742),o=n(645),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|v(e,t),r=s(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);var o=function(e){if(u.isBuffer(e)){var t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||q(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),s(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(o)return r?-1:B(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var f=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var l=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){l=!1;break}if(l)return i}return-1}function w(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(q(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function I(e,t,n,r){return S(e,t,n,r)}function P(e,t,n,r){return H(F(t),e,n,r)}function k(e,t,n,r){return H(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128===(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return f(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(G(i,Uint8Array)&&(i=u.from(i)),!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,o){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),f=e.slice(t,n),l=0;l<s;++l)if(c[l]!==f[l]){i=c[l],a=f[l];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=W[e[i]];return o}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var i=o-1;i>=0;--i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:u.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var D=/[^+/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!==e}var W=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()},584:function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},7187:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,a,c;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"===typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=a.length,c=f,console&&console.warn&&console.warn(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var c=u.length,f=p(u,c);for(n=0;n<c;++n)r(f[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9267:function(e,t,n){var r=n(8501),o=n(1987),i=e.exports;for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);function s(e){if("string"===typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=s(e),r.request.call(this,e,t)},i.get=function(e,t){return e=s(e),r.get.call(this,e,t)}},645:function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?o-1:0,d=n?-1:1,h=e[t+l];for(l+=d,i=h&(1<<-f)-1,h>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=d,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=d,f-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},5717:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},1987:function(e,t,n){e.exports=function(){var e={715:function(e,t,n){var r,o=(r=n(191))&&"object"==typeof r&&"default"in r?r.default:r,i=/https?|ftp|gopher|file/;function a(e){"string"==typeof e&&(e=b(e));var t=function(e,t,n){var r=e.auth,o=e.hostname,i=e.protocol||"",a=e.pathname||"",s=e.hash||"",u=e.query||"",c=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?c=r+e.host:o&&(c=r+(~o.indexOf(":")?"["+o+"]":o),e.port&&(c+=":"+e.port)),u&&"object"==typeof u&&(u=t.encode(u));var f=e.search||u&&"?"+u||"";return i&&":"!==i.substr(-1)&&(i+=":"),e.slashes||(!i||n.test(i))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),s&&"#"!==s[0]&&(s="#"+s),f&&"?"!==f[0]&&(f="?"+f),{protocol:i,host:c,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:f=f.replace("#","%23"),hash:s}}(e,o,i);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var s="http://",u="w.w",c=s+u,f=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,l=/https?|ftp|gopher|file/;function d(e,t){var n="string"==typeof e?b(e):e;e="object"==typeof e?a(e):e;var r=b(t),o="";n.protocol&&!n.slashes&&(o=n.protocol,e=e.replace(n.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&r.protocol&&(o="",r.slashes||(o=r.protocol,t=t.replace(r.protocol,"")));var i=e.match(f);i&&!r.protocol&&(e=e.substr((o=i[1]+(i[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var u=new URL(e,c+"/"),d=new URL(t,u).toString().replace(c,""),h=r.protocol||n.protocol;return h+=n.slashes||r.slashes?"//":"",!o&&h?d=d.replace(s,h):o&&(d=d.replace(s,"")),l.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),o&&(d=o+("/"===d[0]?d.substr(1):d)),d}function h(){}h.prototype.parse=b,h.prototype.format=a,h.prototype.resolve=d,h.prototype.resolveObject=d;var p=/^https?|ftp|gopher|file/,v=/^(.*?)([#?].*)/,g=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,y=/^([a-z0-9.+-]*:)?\/\/\/*/i,m=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function b(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof h)return e;var r=(e=e.trim()).match(v);e=r?r[1].replace(/\\/g,"/")+r[2]:e.replace(/\\/g,"/"),m.test(e)&&"/"!==e.slice(-1)&&(e+="/");var i=!/(^javascript)/.test(e)&&e.match(g),s=y.test(e),f="";i&&(p.test(i[1])||(f=i[1].toLowerCase(),e=""+i[2]+i[3]),i[2]||(s=!1,p.test(i[1])?(f=i[1],e=""+i[3]):e="//"+i[3]),3!==i[2].length&&1!==i[2].length||(f=i[1],e="/"+i[3]));var l,d=(r?r[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),b=d&&d[1],w=new h,E="",S="";try{l=new URL(e)}catch(t){E=t,f||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(S="/",e=e.substr(1));try{l=new URL(e,c)}catch(e){return w.protocol=f,w.href=f,w}}w.slashes=s&&!S,w.host=l.host===u?"":l.host,w.hostname=l.hostname===u?"":l.hostname.replace(/(\[|\])/g,""),w.protocol=E?f||null:l.protocol,w.search=l.search.replace(/\\/g,"%5C"),w.hash=l.hash.replace(/\\/g,"%5C");var I=e.split("#");!w.search&&~I[0].indexOf("?")&&(w.search="?"),w.hash||""!==I[1]||(w.hash="#"),w.query=t?o.decode(l.search.substr(1)):w.search.substr(1),w.pathname=S+(i?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(l.pathname):l.pathname),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),E&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),f&&!p.test(f)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[l.username,l.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=l.port,b&&!w.host.endsWith(b)&&(w.host+=b,w.port=b.slice(1)),w.href=S?""+w.pathname+w.search+w.hash:a(w);var P=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach((function(e){~P.indexOf(e)||(w[e]=w[e]||null)})),w}t.parse=b,t.format=a,t.resolve=d,t.resolveObject=function(e,t){return b(d(e,t))},t.Url=h},191:function(e){"use strict";e.exports=n(7735)}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}},i=!0;try{e[n](o,o.exports,r),i=!1}finally{i&&delete t[n]}return o.exports}return r.ab="//",r(715)}()},9335:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,o,i){r=r||"&",o=o||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(r);var u=1e3;i&&"number"===typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,d,h,p,v=e[f].replace(s,"%20"),g=v.indexOf(o);g>=0?(l=v.substr(0,g),d=v.substr(g+1)):(l=v,d=""),h=decodeURIComponent(l),p=decodeURIComponent(d),t(a,h)?n(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},8795:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,a,s){return i=i||"&",a=a||"=",null===e&&(e=void 0),"object"===typeof e?r(o(e),(function(o){var s=encodeURIComponent(t(o))+a;return n(e[o])?r(e[o],(function(e){return s+encodeURIComponent(t(e))})).join(i):s+encodeURIComponent(t(e[o]))})).join(i):s?encodeURIComponent(t(s))+a+encodeURIComponent(t(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},7735:function(e,t,n){"use strict";t.decode=t.parse=n(9335),t.encode=t.stringify=n(8795)},4375:function(e){let t;e.exports="function"===typeof queueMicrotask?queueMicrotask:e=>(t||(t=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},4281:function(e){"use strict";var t={};function n(e,n,r){r||(r=Error);var o=function(e){var t,r;function o(t,r,o){return e.call(this,function(e,t,r){return"string"===typeof n?n:n(e,t,r)}(t,r,o))||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o}(r);o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,i,a,s;if("string"===typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(o," ").concat(r(t,"type"));else{var u=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(u," ").concat(o," ").concat(r(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:function(e,t,n){"use strict";var r=n(4155),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var i=n(9481),a=n(4229);n(5717)(f,i);for(var s=o(a.prototype),u=0;u<s.length;u++){var c=s[u];f.prototype[c]||(f.prototype[c]=a.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:function(e,t,n){"use strict";e.exports=o;var r=n(4605);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n(5717)(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},9481:function(e,t,n){"use strict";var r,o=n(4155);e.exports=k,k.ReadableState=P;n(7187).EventEmitter;var i=function(e,t){return e.listeners(t).length},a=n(2503),s=n(8764).Buffer,u=n.g.Uint8Array||function(){};var c,f=n(4616);c=f&&f.debuglog?f.debuglog("stream"):function(){};var l,d,h,p=n(7327),v=n(1195),g=n(2457).getHighWaterMark,y=n(4281).q,m=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(k,a);var S=v.errorOrDestroy,I=["error","close","destroy","pause","resume"];function P(e,t,o){r=r||n(6753),e=e||{},"boolean"!==typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",o),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(2553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function k(e){if(r=r||n(6753),!(this instanceof k))return new k(e);var t=this instanceof r;this._readableState=new P(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function R(e,t,n,r,o){c("readableAddChunk",t);var i,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}(e,a);else if(o||(i=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof u||"string"===typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),i)S(e,i);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?S(e,new E):_(e,a,t,!0);else if(a.ended)S(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):O(e,a)):_(e,a,t,!1)}else r||(a.reading=!1,O(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),O(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=v.destroy,k.prototype._undestroy=v.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),R(this,e,t,!1,n)},k.prototype.unshift=function(e){return R(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){l||(l=n(2553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";null!==r;)o+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var A=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(x,e))}function x(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function O(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(L,e,t))}function L(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(F,t,e))}function F(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):C(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,o=t.needReadable;return c("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",o=!0),t.ended||t.reading?c("reading or ended",o=!1):o&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){S(this,new w("_read()"))},k.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==o.stdout&&e!==o.stderr?u:g;function s(t,o){c("onunpipe"),t===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",d),l=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function u(){c("onend"),e.end()}r.endEmitted?o.nextTick(a):n.once("end",a),e.on("unpipe",s);var f=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",f);var l=!1;function d(t){c("ondata");var o=e.write(t);c("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==H(r.pipes,e))&&!l&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function h(t){c("onerror",t),g(),e.removeListener("error",h),0===i(e,"error")&&S(e,t)}function p(){e.removeListener("finish",v),g()}function v(){c("onfinish"),e.removeListener("close",p),g()}function g(){c("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",v),e.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=H(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},k.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?C(this):r.reading||o.nextTick(N,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(j,this),n},k.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(j,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(U,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(c("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))})),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<I.length;i++)e.on(I[i],this.emit.bind(this,I[i]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(1086)),d(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=D,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(k.from=function(e,t){return void 0===h&&(h=n(5167)),h(k,e,t)})},4605:function(e,t,n){"use strict";e.exports=f;var r=n(4281).q,o=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(6753);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(5717)(f,u),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,n){n(new o("_transform()"))},f.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:function(e,t,n){"use strict";var r,o=n(4155);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=k,k.WritableState=P;var a={deprecate:n(4927)},s=n(2503),u=n(8764).Buffer,c=n.g.Uint8Array||function(){};var f,l=n(1195),d=n(2457).getHighWaterMark,h=n(4281).q,p=h.ERR_INVALID_ARG_TYPE,v=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;function I(){}function P(e,t,a){r=r||n(6753),e=e||{},"boolean"!==typeof a&&(a=t instanceof r),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!==typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,r)):(i(r),e._writableState.errorEmitted=!0,S(e,r),x(e,t))}(e,n,r,t,i);else{var a=T(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?o.nextTick(_,e,n,a,i):_(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function k(e){var t=this instanceof(r=r||n(6753));if(!t&&!f.call(k,this))return new k(e);this._writableState=new P(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function R(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,R(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,f=n.encoding,l=n.callback;if(R(e,t,!1,t.objectMode?1:c.length,c,f,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var n=T(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(5717)(k,s),P.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(P.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===k&&(e&&e._writableState instanceof P)}})):f=function(e){return e instanceof this},k.prototype.pipe=function(){S(this,new y)},k.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,u.isBuffer(r)||r instanceof c);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=I),i.ending?function(e,t){var n=new w;S(e,n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new b:"string"===typeof n||t.objectMode||(i=new p("chunk",["string","Buffer"],n)),!i||(S(e,i),o.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,n));return t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,s,r,o,i);return c}(this,i,s,e,t,n)),a},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,n){n(new v("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=l.destroy,k.prototype._undestroy=l.undestroy,k.prototype._destroy=function(e,t){t(e)}},1086:function(e,t,n){"use strict";var r,o=n(4155);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(8610),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function v(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[s]=null,e[u]=null,t(p(n,!1)))}}function g(e){o.nextTick(v,e)}var y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){o.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[f]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(p(i,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),y);e.exports=function(e){var t,n=Object.create(m,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,f,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[s]=null,n[u]=null,e(p(r,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[l]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[l]=null,n[s]=null,n[u]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[u]=null,r(p(void 0,!0))),n[f]=!0})),e.on("readable",g.bind(null,n)),n}},7327:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(8764).Buffer,s=n(2361).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,o=a.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,n=o,r=s,a.prototype.copy.call(t,n,r),s+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?r+=o:r+=o.slice(0,e),0===(e-=i)){i===o.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0===(e-=i)){i===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(i));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&i(t.prototype,n),c&&i(t,c),e}()},1195:function(e,t,n){"use strict";var r=n(4155);function o(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(a,this,e)):r.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(i,n):(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t?(r.nextTick(i,n),t(e)):r.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:function(e,t,n){"use strict";var r=n(4281).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,n,i){if("function"===typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}}(i||o);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||f()},c=t._writableState&&t._writableState.finished,f=function(){s=!1,c=!0,a||i.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,l=!0,s||i.call(t)},h=function(e){i.call(t,e)},p=function(){var e;return a&&!l?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},v=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",f),t.on("abort",p),t.req?v():t.on("request",v)),t.on("end",d),t.on("finish",f),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},5167:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:function(e,t,n){"use strict";var r;var o=n(4281).q,i=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(8610)),r(e,{readable:t,writable:o},(function(e){if(e)return i(e);s=!0,i()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void i(t||new a("pipe"))}}function c(e){e()}function f(e,t){return e.pipe(t)}function l(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=l(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var a=t.map((function(e,n){var i=n<t.length-1;return u(e,i,n>0,(function(e){r||(r=e),e&&a.forEach(c),i||(a.forEach(c),o(r))}))}));return t.reduce(f)}},2457:function(e,t,n){"use strict";var r=n(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,o){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,o,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(o?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},2503:function(e,t,n){e.exports=n(7187).EventEmitter},8473:function(e,t,n){(t=e.exports=n(9481)).Stream=t,t.Readable=t,t.Writable=n(4229),t.Duplex=n(6753),t.Transform=n(4605),t.PassThrough=n(2725),t.finished=n(8610),t.pipeline=n(9946)},9509:function(e,t,n){var r=n(8764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},8501:function(e,t,n){var r=n(1989),o=n(5676),i=n(7529),a=n(584),s=n(1987),u=t;u.request=function(e,t){e="string"===typeof e?s.parse(e):i(e);var o=-1===n.g.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||o,u=e.hostname||e.host,c=e.port,f=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?a+"//"+u:"")+(c?":"+c:"")+f,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var l=new r(e);return t&&l.on("response",t),l},u.get=function(e,t){var n=u.request(e,t);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=o.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:function(e,t,n){var r;function o(){if(void 0!==r)return r;if(n.g.XMLHttpRequest){r=new n.g.XMLHttpRequest;try{r.open("GET",n.g.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function i(e){var t=o();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(n){}return!1}function a(e){return"function"===typeof e}t.fetch=a(n.g.fetch)&&a(n.g.ReadableStream),t.writableStream=a(n.g.WritableStream),t.abortController=a(n.g.AbortController),t.arraybuffer=t.fetch||i("arraybuffer"),t.msstream=!t.fetch&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!o()&&a(o().overrideMimeType),r=null},1989:function(e,t,n){var r=n(8764).Buffer,o=n(4155),i=n(8725),a=n(5717),s=n(5676),u=n(8473),c=s.IncomingMessage,f=s.readyStates;var l=e.exports=function(e){var t,n=this;u.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+r.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!i.abortController)o=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}n._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":"text"}(t,o),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};a(l,u.Writable),l.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:e,value:t})},l.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},l.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},l.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,r=e._headers,a=null;"GET"!==t.method&&"HEAD"!==t.method&&(a=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var s=[];if(Object.keys(r).forEach((function(e){var t=r[e].name,n=r[e].value;Array.isArray(n)?n.forEach((function(e){s.push([t,e])})):s.push([t,n])})),"fetch"===e._mode){var u=null;if(i.abortController){var c=new AbortController;u=c.signal,e._fetchAbortController=c,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=n.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}n.g.fetch(e._opts.url,{method:e._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:u}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){n.g.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var l=e._xhr=new n.g.XMLHttpRequest;try{l.open(e._opts.method,e._opts.url,!0)}catch(d){return void o.nextTick((function(){e.emit("error",d)}))}"responseType"in l&&(l.responseType=e._mode),"withCredentials"in l&&(l.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(l.timeout=t.requestTimeout,l.ontimeout=function(){e.emit("requestTimeout")}),s.forEach((function(e){l.setRequestHeader(e[0],e[1])})),e._response=null,l.onreadystatechange=function(){switch(l.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(l.onprogress=function(){e._onXHRProgress()}),l.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{l.send(a)}catch(d){return void o.nextTick((function(){e.emit("error",d)}))}}}},l.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},l.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},l.prototype._write=function(e,t,n){this._body.push(e),n()},l.prototype.abort=l.prototype.destroy=function(){var e=this;e._destroyed=!0,n.g.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},l.prototype.end=function(e,t,n){"function"===typeof e&&(n=e,e=void 0),u.Writable.prototype.end.call(this,e,t,n)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},5676:function(e,t,n){var r=n(4155),o=n(8764).Buffer,i=n(8725),a=n(5717),s=n(8473),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(e,t,a,u){var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){r.nextTick((function(){c.emit("close")}))})),"fetch"===a){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),i.writableStream){var f=new WritableStream({write:function(e){return new Promise((function(t,n){c._destroyed?n():c.push(o.from(e))?t():c._resumeFetch=t}))},close:function(){n.g.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void t.body.pipeTo(f).catch((function(e){n.g.clearTimeout(u),c._destroyed||c.emit("error",e)}))}catch(p){}}var l=t.body.getReader();!function e(){l.read().then((function(t){if(!c._destroyed){if(t.done)return n.g.clearTimeout(u),void c.push(null);c.push(o.from(t.value)),e()}})).catch((function(e){n.g.clearTimeout(u),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(t[2])):void 0!==c.headers[n]?c.headers[n]+=", "+t[2]:c.headers[n]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!i.overrideMimeType){var d=c.rawHeaders["mime-type"];if(d){var h=d.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(c,s.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text":if((r=t.responseText).length>e._pos){var i=r.substr(e._pos);if("x-user-defined"===e._charset){for(var a=o.alloc(i.length),s=0;s<i.length;s++)a[s]=255&i.charCodeAt(s);e.push(a)}else e.push(i,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(o.from(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(o.from(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var c=new n.g.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(o.from(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}},2553:function(e,t,n){"use strict";var r=n(9509).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4927:function(e,t,n){function r(e){try{if(!n.g.localStorage)return!1}catch(r){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},7529:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e};var t=Object.prototype.hasOwnProperty},5861:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return o}})}}]);