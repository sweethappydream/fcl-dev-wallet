(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{628:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(4942),o=r(5222),i=r(3324),c=r(9977);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={border:"1px solid",borderColor:"gray.200",backgroundColor:"white",display:"flex",alignItems:"center",overflow:"hidden","> img":{width:"100%"}};function s(e){var t=e.address,r=void 0===t?"":t,n=e.src,a=e.seed,s=e.sxStyles,u=void 0===s?{}:s,p=e.lg,f=e.flowAccountAddress,b=e.avatarUrl,h=p?65:50,g=o.withPrefix(r),v=g===o.withPrefix(f),y=v?"/settings.svg":function(e,t){return encodeURI("".concat(e,"avatar/").concat(t,".svg"))}(b,"".concat(g,"-").concat(a));return(0,c.tZ)("div",{sx:l(l(l({},d),u),{},{width:h,height:h,borderRadius:h,border:v?0:u.border||d.border}),children:(0,c.tZ)(i.Img,{src:[n||y,"/missing-avatar-icon.svg"]})})}},6517:function(e,t,r){"use strict";var n=r(1226),o=r(9977),i={actionsContainer:{display:"flex",alignItems:"center",width:"100%",borderTop:"1px solid",borderColor:"gray.200",backgroundColor:"white",borderBottomLeftRadius:10,borderBottomRightRadius:10,px:[10,20]},actions:{display:"flex",flex:1,pt:20,pb:20}};t.Z=function(e){var t=e.onApprove,r=e.onDecline,c=e.isLoading;return(0,o.tZ)("div",{sx:i.actionsContainer,children:(0,o.BX)("div",{sx:i.actions,children:[(0,o.tZ)(n.Z,{variant:"ghost",size:"lg",sx:{flex:1,mx:10,w:"50%"},onClick:r,children:"Decline"}),(0,o.tZ)(n.Z,{size:"lg",sx:{flex:1,mx:10,w:"50%"},onClick:t,disabled:c,children:"Approve"})]})})}},2739:function(e,t,r){"use strict";r.d(t,{jW:function(){return s},Pk:function(){return u}});var n=r(4942),o=r(6418),i=r(8428),c=r(9977);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={table:{fontSize:[0,1],width:"100%",borderCollapse:"collapse","word-break":"break-word"},row:{"> td":{borderBottom:"1px solid",borderColor:(0,o.Fq)("gray.200",.7),verticalAlign:"top",py:1,"&:first-of-type":{color:"gray.500"},"&:last-of-type":{textAlign:"right",fontFamily:"monospace",letterSpacing:"0.16em"}},"&:last-of-type":{"> td":{border:0}}},accountDetail:{display:"flex",alignItems:["flex-end","center"],justifyContent:"flex-end",flexDirection:["column","row"]},accountDetailLabel:{textTransform:"uppercase",fontFamily:"sans-serif",fontSize:"0.625rem",letterSpacing:"initial",color:"gray.300",border:"1px solid",borderColor:"gray.200",borderRadius:20,px:2},accountAddress:{ml:2},accountDetailLabelCurrent:{backgroundColor:"primary",borderColor:"primary",color:"black",fontWeight:700}};function s(e){var t=e.account,r=(0,i.Z)().currentUser,n=t.address===r.address;return(0,c.BX)("div",{sx:d.accountDetail,children:[(0,c.tZ)("div",{sx:l(l({},d.accountDetailLabel),n?d.accountDetailLabelCurrent:{}),children:t.label}),(0,c.tZ)("div",{sx:d.accountAddress,children:t.address})]})}function u(e){var t=e.children;return(0,c.tZ)("tr",{sx:d.row,children:t})}t.ZP=function(e){var t=e.children;return(0,c.BX)("table",{sx:d.table,children:[(0,c.tZ)("thead",{children:(0,c.BX)("tr",{children:[(0,c.tZ)("th",{sx:{minWidth:100}}),(0,c.tZ)("th",{})]})}),(0,c.tZ)("tbody",{children:t})]})}},4528:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(9977),o={image:{borderRadius:65,width:65}};function i(e){var t=e.icon,r=t||"/missing-app-icon.svg";return(0,n.tZ)("img",{src:r,sx:o.image,title:t?void 0:"Missing app icon"})}},9022:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return W}});var n=r(5861),o=r(7757),i=r.n(o),c=r(5222),a=r(6517),l=r(4942),d=r(8428),s=r(2739),u=r(9967),p=r(7294),f="cadence";var b=r(6033),h=r(9977);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={codeContainer:{mx:[-15,-30]},block:{backgroundColor:"gray.100",overflow:"hidden",cursor:"pointer",py:15,px:[15,30]},blockExpanded:{backgroundColor:"white",maxHeight:"initial",cursor:"inherit",py:0,px:0,borderBottomRightRadius:8,borderBottomLeftRadius:8,code:{"> span:before":{display:"inline-block"}}},code:{display:"flex",flexDirection:"column",whiteSpace:"pre",overflow:"hidden","> br":{display:"none"},"> span":{counterIncrement:"line","&:first-of-type:before":{pt:2},"&:last-of-type:before":{pb:2},"&:before":{display:"none",backgroundColor:"gray.100",borderRight:"1px solid",borderColor:"gray.300",content:"counter(line)",color:"gray.500",textAlign:"center",mr:3,px:"2px",minWidth:20}}},header:{height:30,px:[15,30],display:"flex",alignItems:"center",justifyContent:"space-between",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"gray.200"},headerTitle:{color:"gray.300",textTransform:"uppercase",fontSize:0},largeExpandButton:{background:"transparent",border:0,padding:0,display:"block",minWidth:"100%",textAlign:"initial"}};function m(e){var t=e.isExpanded,r=e.colorizedSafeHtml;return(0,h.tZ)("div",{sx:v(v({},y.block),t?y.blockExpanded:{}),children:r.length>0&&(0,h.tZ)("code",{sx:v(v({},y.code),{},{overflow:t?"auto":"hidden",overflowY:t?"auto":"hidden"}),dangerouslySetInnerHTML:{__html:r}})})}function x(e){var t=e.title,r=e.value,n=(0,u.Ik)(),o=(0,p.useState)(""),i=o[0],c=o[1],a=(0,d.Z)(),l=a.isExpanded,s=a.setCodePreview;(0,p.useEffect)((function(){n&&(!function(e){e.languages.register({id:f,extensions:[".cdc"],aliases:["CDC","cdc"]}),e.languages.setMonarchTokensProvider(f,{keywords:["if","else","return","continue","break","while","pre","post","prepare","execute","import","from","create","destroy","priv","pub","get","set","log","emit","event","init","struct","interface","fun","let","var","resource","access","all","contract","self","transaction"],typeKeywords:["AnyStruct","AnyResource","Void","Never","String","Character","Bool","Self","Int8","Int16","Int32","Int64","Int128","Int256","UInt8","UInt16","UInt32","UInt64","UInt128","UInt256","Word8","Word16","Word32","Word64","Word128","Word256","Fix64","UFix64"],operators:["<-","<=",">=","==","!=","+","-","*","/","%","&","!","&&","||","?","??",":","=","@"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w]*/,"type.identifier"],{include:"@whitespace"},[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/0[xX](@hexdigits)/,"number.hex"],[/0[oO]?(@octaldigits)/,"number.octal"],[/0[bB](@binarydigits)/,"number.binary"],[/(@digits)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}})}(n),n.editor.colorize(r,f,{tabSize:2}).then(c))}),[n,r]);var g=function(){return s({title:t,value:r})};return(0,h.BX)("div",{sx:y.codeContainer,children:[(0,h.BX)("div",{sx:v(v({},y.header),{},{borderTop:l?0:y.header.borderTop}),children:[(0,h.tZ)("div",{sx:y.headerTitle,children:t}),!l&&(0,h.tZ)("div",{children:(0,h.tZ)(b.Z,{onClick:g})})]}),l?(0,h.tZ)(m,{isExpanded:l,colorizedSafeHtml:i}):(0,h.tZ)("button",{onClick:g,sx:y.largeExpandButton,children:(0,h.tZ)(m,{isExpanded:l,colorizedSafeHtml:i})})]})}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={container:{display:"flex",flexDirection:"column",flex:1,height:"100%",mx:[-15,-30]},wrappedValue:{width:[170,200],overflowWrap:"break-word",textAlign:"right",ml:"auto"},codeContainer:{mt:3,mb:-20}};var P=function(){var e=(0,d.Z)(),t=e.proposer,r=e.payer,n=e.authorizers,o=e.proposalKey,i=e.computeLimit,c=e.refBlock,a=e.args,l=e.cadence;return(0,h.tZ)("div",{sx:O.container,children:(0,h.BX)("div",{sx:{px:[15,30],display:"flex",flexDirection:"column","overflow-x":"hidden"},children:[(0,h.BX)(s.ZP,{children:[(0,h.BX)(s.Pk,{children:[(0,h.tZ)("td",{children:"Proposer"}),(0,h.tZ)("td",{children:(0,h.tZ)(s.jW,{account:t})})]}),(0,h.BX)(s.Pk,{children:[(0,h.tZ)("td",{children:"Payer"}),(0,h.tZ)("td",{children:(0,h.tZ)(s.jW,{account:r})})]}),(0,h.BX)(s.Pk,{children:[(0,h.tZ)("td",{children:"Authorizers"}),(0,h.tZ)("td",{children:n.map((function(e){return(0,h.tZ)(s.jW,{account:e},e.address)}))})]}),(0,h.BX)(s.Pk,{children:[(0,h.tZ)("td",{children:"Proposal Key"}),(0,h.tZ)("td",{children:(0,h.tZ)("div",{sx:O.wrappedValue,children:o.keyId})})]}),(0,h.BX)(s.Pk,{children:[(0,h.tZ)("td",{children:"Sequence #"}),(0,h.tZ)("td",{children:o.sequenceNum})]}),(0,h.BX)(s.Pk,{children:[(0,h.tZ)("td",{children:"Gas Limit"}),(0,h.tZ)("td",{children:i})]}),(0,h.BX)(s.Pk,{children:[(0,h.tZ)("td",{children:"Reference Block"}),(0,h.tZ)("td",{children:(0,h.tZ)("div",{sx:Z(Z({},O.wrappedValue),{},{letterSpacing:"0.25em"}),children:c})})]})]}),(0,h.BX)("div",{sx:O.codeContainer,children:[(0,h.tZ)(x,{title:"Arguments",value:JSON.stringify(a,null,2)}),(0,h.tZ)(x,{title:"Script Source Code",value:l})]})]})})},k=r(8459),j=r(9145),A=r(628),C=r(4528),S={header:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",pt:4},headerSection:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"50%",px:[0,3],zIndex:1},label:{position:"relative",width:"auto",display:"flex",alignItems:"center"},greenDot:{position:"absolute",mt:"-2px",left:-15,backgroundColor:"primary",width:7,height:7,borderRadius:7},transactionIcon:{position:"absolute",top:45}};var D=function(e){var t,r,n,o,i=e.flowAccountAddress,c=e.avatarUrl,a=(0,d.Z)(),l=a.currentUser,s=a.connectedAppConfig,u=(null===s||void 0===s||null===(t=s.config)||void 0===t||null===(r=t.app)||void 0===r?void 0:r.title)||k.jQ,p=null===s||void 0===s||null===(n=s.config)||void 0===n||null===(o=n.app)||void 0===o?void 0:o.icon;return(0,h.BX)("div",{sx:S.header,children:[(0,h.tZ)("div",{sx:S.transactionIcon,children:(0,h.tZ)("img",{src:"/transaction.svg"})}),(0,h.BX)("div",{sx:S.headerSection,children:[(0,h.tZ)(A.Z,{address:l.address,seed:u,lg:!0,flowAccountAddress:i,avatarUrl:c}),(0,h.BX)(j.__,{sx:S.label,children:[(0,h.tZ)("div",{sx:S.greenDot}),l.label]})]}),(0,h.BX)("div",{sx:S.headerSection,children:[(0,h.tZ)(C.Z,{icon:p}),(0,h.tZ)(j.__,{sx:S.label,children:u})]})]})},B=r(4024),I=r(7615),E=r(1752),_=r(6917);function U(e){var t=e.flowAccountAddress,r=e.flowAccountPrivateKey,n=e.avatarUrl,o=(0,d.Z)(),i=o.isExpanded,l=o.codePreview,s=(0,d.Z)(),u=s.currentUser,f=s.proposalKey,b=s.message,g=(0,p.useState)(!1),v=g[0],y=g[1];return(0,h.tZ)(B.Z,{title:"Authorize Transaction",header:!i&&(0,h.tZ)(D,{flowAccountAddress:t,avatarUrl:n}),footer:!i&&(0,h.tZ)(a.Z,{onApprove:function(){y(!0);var e=(0,_.X)(r,b);c.WalletUtils.approve(new c.WalletUtils.CompositeSignature(u.address,f.keyId,e))},isLoading:v,onDecline:function(){return c.WalletUtils.close()}}),children:l?(0,h.tZ)(x,{title:l.title,value:l.value}):(0,h.tZ)(P,{})})}function X(e){var t=e.flowAccountAddress,r=e.flowAccountPrivateKey,n=e.avatarUrl;return(0,h.tZ)(I.w,{children:(0,h.tZ)(U,{flowAccountAddress:t,flowAccountPrivateKey:r,avatarUrl:n})})}X.getInitialProps=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,E.default)(),r=t.publicRuntimeConfig,e.abrupt("return",{flowAccountAddress:r.flowAccountAddress,flowAccountPrivateKey:r.flowAccountPrivateKey,avatarUrl:r.avatarUrl});case 2:case"end":return e.stop()}}),e)})));var W=X},7207:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fcl/authz",function(){return r(9022)}])}},function(e){e.O(0,[435,495,209,939,510,774,888,179],(function(){return t=7207,e(e.s=t);var t}));var t=e.O();_N_E=t}]);